!function(){function e(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,c=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw c}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"4GZO":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var a=n("FpXt"),c=n("7EHt"),o=n("MutI"),s=n("TU8p"),u=n("Dhln"),l=n("wZkO"),f=n("jaxi"),d=n("Qu3c"),b=n("QibW"),m=n("3Pt+"),p=n("/1cH"),g=n("kmnG"),v=n("qFsG"),h=n("fXoL"),y=function(){var e=i(function e(){r(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.Pb({type:e}),e.\u0275inj=h.Ob({providers:[u.a],imports:[[a.a,c.b,o.a,s.b,l.d,f.c,d.b,b.c,m.m,m.x,p.b,g.e,v.c]]}),e}()},Dhln:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("fXoL"),c=function(){var e=function(){function e(){r(this,e)}return i(e,[{key:"transform",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(n[0].config)return e.filter(function(e){return e[""+n[0].config]===n[0].value});if(n[0].category&&"webcam"!==n[0].category){if("metric"in n[0]&&0===n[0].metric)return e.filter(function(e){return e.category_engagement===n[0].category});if("metric"in n[0]&&1===n[0].metric)return e.filter(function(e){return e.category_mood===n[0].category})}else{if(n[0].webcam){var r=n[0].key?n[0].key:"webcam";return e.forEach(function(e){var t=e.session_data.some(function(e){return 0===e.webcam});e.webcam=!t}),e.filter(function(e){return!1===e[r]})}if(n[0].deviceType){var a=n[0].key?n[0].key:"type";return e.filter(function(e){return e[a]===n[0].deviceType}).length?e.filter(function(e){return e[a]===n[0].deviceType}):[{label:"No Device Detected",type:n[0].key}]}}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Qb({name:"categoryFilter",type:e,pure:!0}),e}()},c8Cp:function(t,n,a){"use strict";a.d(n,"a",function(){return E});var c=a("fXoL"),o=a("7EHt"),s=a("JX91"),u=a("lJxs"),l=a("3Pt+"),f=a("tyNb"),d=a("v0EB"),b=a("LUsR"),m=a("iiAa"),p=a("ofXK"),g=a("XiUz"),v=a("f0Cb"),h=a("QibW"),y=a("znSr"),x=a("Qu3c"),w=a("NFeN"),F=a("Dhln"),L=function(){return["custom-radio"]};function W(e,t){if(1&e&&(c.Xb(0,"mat-radio-button",21),c.Pc(1),c.Wb()),2&e){var n=t.$implicit,i=t.index;c.qc("ngClass",c.tc(3,L))("value",i),c.Fb(1),c.Qc(n.name)}}function S(e,t){if(1&e){var n=c.Yb();c.Xb(0,"div",22),c.Xb(1,"div",23),c.fc("click",function(){c.Fc(n);var e=t.$implicit,i=c.jc(2);return i.selectStudent(e),i.selected=e,i.selectUser.emit(i.selected)}),c.Xb(2,"mat-icon",24),c.Pc(3,"account_circle"),c.Wb(),c.Xb(4,"span",25),c.Pc(5),c.kc(6,"titlecase"),c.Wb(),c.Wb(),c.Wb()}if(2&e){var i=t.$implicit;c.Fb(5),c.Qc(c.lc(6,1,i.name))}}function X(e,t){if(1&e&&(c.Xb(0,"div",28),c.Xb(1,"span",29),c.Pc(2),c.Wb(),c.Wb()),2&e){var n=c.jc(3);c.Fb(2),c.Qc(n.camOffTab[0].name)}}var k=function(){return["name-list"]};function C(e,t){if(1&e){var n=c.Yb();c.Xb(0,"div",30),c.fc("click",function(){c.Fc(n);var e=t.$implicit,i=c.jc(3);return i.selected=e,i.selectUser.emit(i.selected)}),c.Xb(1,"div",31),c.Xb(2,"mat-icon"),c.Pc(3,"account_circle"),c.Wb(),c.Xb(4,"span",13),c.Pc(5),c.Wb(),c.Wb(),c.Xb(6,"div",32),c.Xb(7,"mat-icon"),c.Pc(8,"videocam_off"),c.Wb(),c.Xb(9,"span",33),c.Pc(10),c.Wb(),c.Wb(),c.Wb()}if(2&e){var i=t.$implicit,r=c.jc(3);c.qc("ngClass",c.tc(4,k)),c.Fb(5),c.Rc("",i.name," "),c.Fb(4),c.qc("hidden",i.video),c.Fb(1),c.Rc("",!1===i.video?r.screenOffStat(i):""," ")}}var O=function(){return{config:"video",value:!1}},P=function(){return{webcam:"webcam"}};function _(e,t){if(1&e&&(c.Nc(0,X,3,1,"div",26),c.kc(1,"categoryFilter"),c.Nc(2,C,11,5,"div",27),c.kc(3,"categoryFilter")),2&e){var n=c.jc(2);c.qc("ngIf",""!==n.camOffTab[0].name&&c.mc(1,2,n.studentList,c.tc(8,O)).length>0),c.Fb(2),c.qc("ngForOf",c.mc(3,5,n.studentList,"report"===n.moduleName?c.tc(9,P):c.tc(10,O)))}}function A(e,t){if(1&e&&(c.Xb(0,"span",46),c.Pc(1),c.Wb()),2&e){var n=c.jc().$implicit,i=c.jc(4);c.Fb(1),c.Rc(" ",n[i.metricTab[i.metric].name.toLowerCase()]," ")}}function M(e,t){if(1&e&&(c.Xb(0,"span",46),c.Pc(1),c.Wb()),2&e){var n=c.jc().$implicit;c.Fb(1),c.Rc(" ",n.engTenSec," ")}}var j=function(e){return["name-list",e]};function q(e,t){if(1&e){var n=c.Yb();c.Vb(0),c.Xb(1,"div",39),c.fc("click",function(){c.Fc(n);var e=t.$implicit;return c.jc(4).selectStudent(e)}),c.Xb(2,"div",31),c.Xb(3,"mat-icon"),c.Pc(4,"account_circle"),c.Wb(),c.Xb(5,"div",40),c.Xb(6,"span",41),c.Pc(7),c.kc(8,"titlecase"),c.Wb(),c.Xb(9,"span",42),c.Pc(10),c.Wb(),c.Wb(),c.Wb(),c.Xb(11,"span",43),c.Xb(12,"mat-icon",44),c.Pc(13,"fiber_manual_record"),c.Wb(),c.Nc(14,A,2,1,"span",45),c.Nc(15,M,2,1,"span",45),c.Wb(),c.Wb(),c.Ub()}if(2&e){var i=t.$implicit,r=c.jc(2).$implicit,a=c.jc(2);c.Fb(1),c.qc("ngClass",c.uc(9,j,a.selected&&a.selected.std_id===i.std_id?"select-list":"")),c.Fb(6),c.Sc("",c.lc(8,7,i.name)," ",a.yourId===i.std_id?" (You)":"",""),c.Fb(3),c.Qc(i.stdDuration),c.Fb(1),c.qc("ngClass",r.clas),c.Fb(3),c.qc("ngIf",!a.tenSec),c.Fb(1),c.qc("ngIf",a.tenSec)}}var N=function(e,t){return{category:e,metric:t}};function T(e,t){if(1&e&&(c.Xb(0,"div",28),c.Xb(1,"span",29),c.Pc(2),c.Wb(),c.Wb(),c.Nc(3,q,16,11,"ng-container",38),c.kc(4,"categoryFilter")),2&e){var n=c.jc().$implicit,i=c.jc(2);c.Fb(2),c.Qc(i.metricTab[i.metric].name),c.Fb(1),c.qc("ngForOf",c.mc(4,3,i.studentList,c.vc(6,N,n.name,i.metric)))("ngForTrackBy",i.trackByUsers)}}var U=function(e){return{border:e}};function I(e,t){if(1&e){var n=c.Yb();c.Xb(0,"mat-expansion-panel",34),c.Xb(1,"mat-expansion-panel-header",35),c.fc("click",function(){c.Fc(n);var e=t.$implicit;return c.jc(2).reportRoute(e)}),c.Xb(2,"mat-panel-description",16),c.Xb(3,"span",4),c.Xb(4,"mat-icon",36),c.Pc(5,"fiber_manual_record"),c.Wb(),c.Pc(6),c.Wb(),c.Sb(7,"span",11),c.Wb(),c.Wb(),c.Nc(8,T,5,9,"ng-template",37),c.Wb()}if(2&e){var i=t.$implicit,r=c.jc(2);c.qc("expanded",!0)("disabled",!0),c.Fb(1),c.qc("ngStyle",c.uc(6,U,i.color)),c.Fb(3),c.qc("ngClass",i.clas),c.Fb(2),c.Sc(" ",i.text," ",r.metricTab[r.metric].name," ")}}var D=function(){return{padding:"8px 8px 0 8px"}};function R(e,t){if(1&e){var n=c.Yb();c.Xb(0,"div",1),c.Xb(1,"div",2),c.Xb(2,"div",3),c.Xb(3,"div",4),c.Xb(4,"img",5),c.fc("click",function(){return c.Fc(n),c.jc().homeRoute()}),c.Wb(),c.Wb(),c.Sb(5,"mat-divider",6),c.Xb(6,"mat-radio-group",7),c.fc("ngModelChange",function(e){return c.Fc(n),c.jc().metric=e})("change",function(e){return c.Fc(n),c.jc().onChange(e)}),c.Nc(7,W,2,4,"mat-radio-button",8),c.Wb(),c.Nc(8,S,7,3,"div",9),c.Wb(),c.Wb(),c.Xb(9,"div",10),c.fc("click",function(){c.Fc(n);var e=c.jc();return null==e.accordion?null:e.accordion.openAll()}),c.Xb(10,"span",4),c.Pc(11," Total Participants "),c.Wb(),c.Xb(12,"span",11),c.Xb(13,"span",12),c.Pc(14,"#"),c.Wb(),c.Pc(15," \xa0 "),c.Xb(16,"span",13),c.Pc(17),c.Wb(),c.Wb(),c.Wb(),c.Xb(18,"mat-accordion"),c.Xb(19,"mat-expansion-panel",14),c.Xb(20,"mat-expansion-panel-header",15),c.Xb(21,"mat-panel-description",16),c.Xb(22,"span",4),c.Xb(23,"mat-icon",17),c.Pc(24,"fiber_manual_record"),c.Wb(),c.Pc(25),c.Wb(),c.Xb(26,"span",11),c.Xb(27,"span",12),c.Pc(28,"#"),c.Wb(),c.Pc(29," \xa0 "),c.Xb(30,"span",13),c.Pc(31),c.kc(32,"categoryFilter"),c.kc(33,"categoryFilter"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Nc(34,_,4,11,"ng-template",18),c.Wb(),c.Wb(),c.Xb(35,"mat-accordion",19),c.Nc(36,I,9,8,"mat-expansion-panel",20),c.Wb(),c.Wb()}if(2&e){var i=c.jc();c.Fb(6),c.qc("ngModel",i.metric)("color","primary"),c.Fb(1),c.qc("ngForOf",i.metricTab),c.Fb(1),c.qc("ngForOf",i.searchStudentArr),c.Fb(1),c.qc("ngStyle",c.tc(18,D))("matTooltip","Show All"),c.Fb(8),c.Qc(i.studentList.length),c.Fb(2),c.qc("expanded",!0),c.Fb(6),c.Rc(" ","Camera OFF"," "),c.Fb(6),c.Qc("report"===i.moduleName?c.mc(32,12,i.studentList,c.tc(19,P)).length:c.mc(33,15,i.studentList,c.tc(20,O)).length),c.Fb(4),c.qc("multi",!0),c.Fb(1),c.qc("ngForOf",i.callCat)}}var E=function(){var t=function(){function t(e,n,i,a,o){var s=this;r(this,t),this.router=e,this.as=n,this.ar=i,this.bhvSub=a,this.utility=o,this.selectUser=new c.o,this.tenSecondsAvg=[],this.tenSec=!1,this.test=[],this.searchStudentArr=[],this.search=new l.h,this.selected={fromSidenav:!0},this.index=0,this.isStudent=!1,this.metric=0,this.camOffTab=[{name:"Since Last On"}],this.metricTab=[{name:"Engagement",value:"avgEngagement"},{name:"Mood",value:"avgMood"}],this.callCat=[{name:"Low",icon:"",text:"Low",clas:"title-danger12-400",color:"1px solid #DC3545"},{name:"Medium",icon:"",text:"Mid",clas:"title-warning12-400",color:"1px solid #D69718"},{name:"High",icon:"",text:"High",clas:"title-success12-400",color:"1px solid #00A23E"}],this.ar.queryParams.subscribe(function(e){e&&(s.yourId=e.id)}),this.isStudent=-1!==window.location.href.search("student")&&-1===window.location.href.search("report")}return i(t,[{key:"students",set:function(t){if(this.index++,this.tenSecondsAvg=[],void 0!==t){var n,i=e(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.engAvg+=r.engagement,this.updateCamOffList(r)}}catch(a){i.e(a)}finally{i.f()}this.studentList=t.filter(function(e){var t,n;return-1===(null===(t=null==e?void 0:e.uuid)||void 0===t?void 0:t.search("___"))||-1===(null===(n=null==e?void 0:e.std_id)||void 0===n?void 0:n.search("___"))}),this.studentList.filter(function(e,t,n){return n.findIndex(function(t){return t.std_id===e.std_id})===t})}}},{key:"ngOnInit",value:function(){var e,t=this;"report"===this.moduleName&&(this.camOffTab[0].name=""),this.bhvSub.obEngorMood(this.metric),this.filteredStudents=null===(e=this.search)||void 0===e?void 0:e.valueChanges.pipe(Object(s.a)(""),Object(u.a)(function(e){return t._filter(e)})),this.OS=this.getOS()}},{key:"ngOnChanges",value:function(e){var t,n,i;(null==e?void 0:e.score)&&(10===(null===(t=null==e?void 0:e.score)||void 0===t?void 0:t.currentValue)?this.tenSec=!0:0!==(null===(n=null==e?void 0:e.score)||void 0===n?void 0:n.currentValue)&&1!==(null===(i=null==e?void 0:e.score)||void 0===i?void 0:i.currentValue)||(this.tenSec=!1))}},{key:"_filter",value:function(e){var t=e.toLowerCase();return this.studentList.filter(function(e){return 0===e.name.toLowerCase().indexOf(t)}).map(function(e){return e.name})}},{key:"filterstudent",value:function(e,t){return!e.screen}},{key:"updateCamOffList",value:function(e){this.as.CamOffUsersArr.some(function(t){return t.id===e.std_id})?!0===e.video&&(this.as.CamOffUsersArr=this.as.CamOffUsersArr.filter(function(t){return t.id!==e.std_id})):!1===e.video&&this.as.CamOffUsersArr.push({id:e.std_id,time:new Date,screenStat:e.video})}},{key:"homeRoute",value:function(){this.isStudent||this.router.navigate(["report/dashboard"],{queryParams:{student_id:null},queryParamsHandling:"merge"})}},{key:"selectStudent",value:function(e){this.selected===e?this.selected={std_id:0,fromSidenav:!0}:(this.selected=e,this.selected.fromSidenav=!0),this.selectUser.emit(this.selected)}},{key:"trackByUsers",value:function(e,t){return t.std_id}},{key:"getOS",value:function(){var e=window.navigator.platform,t=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?t="Mac":-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)&&(t="Windows"),t}},{key:"reportRoute",value:function(e){}},{key:"onChange",value:function(e){this.bhvSub.obEngorMood(e.value),this.metric=e.value}},{key:"screenOffStat",value:function(e){var t=this.as.CamOffUsersArr.filter(function(t){if(t.id===e.std_id)return t.time}),n=this.utility.getTimeDiff(new Date(t[0].time).getTime());return Math.floor(n/60)+":"+("0"+Math.floor(n%60)).slice(-2)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Rb(f.b),c.Rb(d.a),c.Rb(f.a),c.Rb(b.a),c.Rb(m.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-call-sidenav"]],viewQuery:function(e,t){var n;(1&e&&c.Uc(o.a,1),2&e)&&(c.Cc(n=c.gc())&&(t.accordion=n.first))},inputs:{score:"score",toggleSideNav:"toggleSideNav",toggleSideNavfromStd:"toggleSideNavfromStd",check:"check",moduleName:"moduleName",students:"students"},outputs:{selectUser:"selectUser"},features:[c.Db],decls:1,vars:1,consts:[["id","navSidebar","fxLayout","column","class","expansionHeader","fxFlex","100","fxLayoutGap","10px",4,"ngIf"],["id","navSidebar","fxLayout","column","fxFlex","100","fxLayoutGap","10px",1,"expansionHeader"],["fxLayout","row","p-l8","","p-r8",""],["fxLayout","column","fxFlex","100","fxLayoutGap","10px"],["fxLayout","row","fxLayoutAlign","center center"],["src","/assets/MonetLiveWhite.png","width","60%","padding","","alt","monet","pointer","",3,"click"],["full-width",""],["fxLayout","row","fxLayoutAlign","space-between center",3,"ngModel","color","ngModelChange","change"],["title-white14-400","",3,"ngClass","value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","8px","style","background-color: aquamarine",4,"ngFor","ngForOf"],["fxLayoutAlign","space-between center","title-white14-400","","pointer","",3,"ngStyle","matTooltip","click"],["fxLayout","row"],["title-tertiary14-400",""],["title-white14-400",""],["hideToggle","",3,"expanded"],[2,"border","1px solid white"],["fxLayoutAlign","space-between center","title-white14-400",""],["title-secondary12-400","","fxLayoutAlign","center center"],["matExpansionPanelContent",""],[3,"multi"],["hideToggle","",3,"expanded","disabled",4,"ngFor","ngForOf"],["title-white14-400","",3,"ngClass","value"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","8px",2,"background-color","aquamarine"],["fxLayoutAlign","center center","fxLayoutGap","10px","pointer","",3,"click"],[1,"name-list"],["title-white12-400",""],["fxLayout","row","fxLayoutAlign","end end",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutAlign","space-between center",3,"ngClass","click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end end"],["title-tertiary10-400","","p-r8",""],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutAlign","space-between center",3,"ngClass","click"],["fxLayoutAlign","center center","fxLayoutGap","10px"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","5px"],["title-white14-400","",3,"hidden"],["hideToggle","",3,"expanded","disabled"],["pointer","",3,"ngStyle","click"],["title-white12-400","","fxLayoutAlign","center center",3,"ngClass"],["matExpansionPanelContent","","style","background-color: #697386 !important;"],[4,"ngFor","ngForOf","ngForTrackBy"],["fxLayout","row","fxLayoutAlign","space-between center",3,"ngClass","click"],["fxLayout","column","fxLayoutGap","0px"],["title-white12-400","","id","sideNavFont"],["title-secondary10-300","","id","sideNavDuartion"],["fxLayout","row","fxLayoutAlign","center center",3,"ngClass"],["xsmall","","fxLayoutAlign","center center"],["title-tertiary14-300","",4,"ngIf"],["title-tertiary14-300",""]],template:function(e,t){1&e&&c.Nc(0,R,37,21,"div",0),2&e&&c.qc("ngIf",void 0!==t.studentList)},directives:[p.n,g.f,g.b,g.g,g.e,v.a,h.b,l.s,l.v,p.m,p.o,y.c,x.a,o.a,o.c,o.f,o.e,w.a,o.d,h.a,p.l,y.a],pipes:[F.a,p.w],styles:["mat-list-option[_ngcontent-%COMP%]   .mat-list-text[_ngcontent-%COMP%]{flex-direction:row;box-sizing:border-box;display:flex;place-content:stretch space-between;align-items:stretch}.name-list[_ngcontent-%COMP%]{padding:5px;cursor:pointer;color:#fff}.expansionHeader[_ngcontent-%COMP%]{padding:0 5%;overflow-y:auto}#sideNavDuartion[_ngcontent-%COMP%]{line-height:1}#navSidebar   [_nghost-%COMP%]     .mat-radio-container, #navSidebar   [_nghost-%COMP%]     .mat-radio-inner-circle, #navSidebar   [_nghost-%COMP%]     .mat-radio-outer-circle{height:15px;width:15px}#navSidebar   [_nghost-%COMP%]     .mat-radio-button .mat-radio-ripple{height:15px;width:15px;left:calc(50% - 15px);top:calc(50% - 15px)}#navSidebar[_ngcontent-%COMP%]     .mat-radio-label-content{color:#fff}.rowWrap[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis}.removePadding[_ngcontent-%COMP%]{padding:0!important}"],changeDetection:0}),t}()}}])}();