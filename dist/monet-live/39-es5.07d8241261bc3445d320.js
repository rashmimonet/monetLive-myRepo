!function(){function e(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,c=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return s=e.done,e},e:function(e){c=!0,r=e},f:function(){try{s||null==i.return||i.return()}finally{if(c)throw r}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{Zcnr:function(t,i,a){"use strict";a.r(i),a.d(i,"StudentDashboardModule",function(){return Re});var r=a("ofXK"),s=a("0Lug"),c=a("v0EB"),u=a("fXoL"),l=a("tyNb"),d=a("kYN2"),f=a("LUsR"),h=a("XiUz"),b=a("znSr"),g=a("Qu3c"),m=a("bTqV"),p=a("NFeN"),v=a("STbY"),S=a("c8Cp"),y=a("mrSG"),x=a("0IaG"),w=a("rjXu"),_=a("xk+7"),k=a("iiAa"),O=a("q1A0"),C=a("zkoq"),P=a("bSwM"),L=a("3Pt+"),M=a("sjQA"),j=["studentContainer"],F=["screenShareStreem"],I=["audioview"],A=["scShareAudio"];function X(e,t){if(1&e){var n=u.Yb();u.Xb(0,"mat-icon",17),u.fc("click",function(){u.Fc(n);var e=u.jc(2);return e.collapseUsersList.action=!e.collapseUsersList.action,e.collapseList(e.collapseUsersList.action,null)}),u.Pc(1),u.Wb()}if(2&e){var i=u.jc(2);u.qc("matTooltip",i.collapseUsersList.action?"Expand Users List":"Collapse Users List"),u.Fb(1),u.Rc(" ",i.collapseUsersList.action?"keyboard_double_arrow_left":"keyboard_double_arrow_right"," ")}}function W(e,t){if(1&e){var n=u.Yb();u.Vb(0),u.Xb(1,"div",22),u.Xb(2,"button",23),u.Xb(3,"mat-icon",24),u.Pc(4,"exit_to_app"),u.Wb(),u.Wb(),u.Xb(5,"span",25),u.Pc(6,"You are sharing your screen"),u.Wb(),u.Xb(7,"button",26),u.fc("click",function(){return u.Fc(n),u.jc(3).stopScreen()}),u.Pc(8,"Stop sharing"),u.Wb(),u.Xb(9,"mat-checkbox",27),u.fc("ngModelChange",function(e){return u.Fc(n),u.jc(3).screenShareAudio=e})("click",function(){u.Fc(n);var e=u.jc(3);return e.publisherScreenShare.toggleAudio("screen",e.screenShareAudio)}),u.Pc(10,"Screen Share Audio "),u.Wb(),u.Wb(),u.Ub()}if(2&e){var i=u.jc(3);u.Fb(7),u.qc("disabled",i.stopScreenShareButtonStat),u.Fb(2),u.qc("ngModel",i.screenShareAudio)}}var q=function(){return{opacity:"1",margin:"0 15%"}},U=function(){return{opacity:"0"}},E=function(){return{opacity:"1",marginTop:"10px",height:"80vh"}},D=function(){return{opacity:"1"}};function N(e,t){if(1&e&&(u.Xb(0,"div",18),u.Sb(1,"video",19,20),u.Nc(3,W,11,2,"ng-container",21),u.Wb()),2&e){var n=u.jc(2);u.qc("fxFlexAlign",n.screenShareId&&n.screenShareId===n.param.id.toString()+"___"+n.param.id.toString()?"center":"stretch")("fxLayout",n.screenShareId&&n.screenShareId===n.param.id.toString()+"___"+n.param.id.toString()?"column":"")("fxLayoutAlign",n.screenShareId&&n.screenShareId===n.param.id.toString()+"___"+n.param.id.toString()?"center center":"")("ngStyle",n.screenshare?n.screenShareId===n.param.id.toString()+"___"+n.param.id.toString()?u.tc(6,q):n.fullScreen?n.opacity?u.tc(8,E):u.tc(9,U):u.tc(7,U):u.tc(10,D)),u.Fb(1),u.qc("fxHide",n.screenShareId===n.param.id.toString()+"___"+n.param.id.toString()),u.Fb(2),u.qc("ngIf",n.screenShareId&&n.screenShareId===n.param.id.toString()+"___"+n.param.id.toString())}}function R(e,t){if(1&e){var n=u.Yb();u.Xb(0,"button",28),u.Xb(1,"mat-icon",29),u.fc("click",function(){return u.Fc(n),u.jc(2).scrollList("top")}),u.Pc(2,"double_arrow"),u.Wb(),u.Wb()}}var T=function(e){return{backgroundColor:e}};function B(e,t){if(1&e&&(u.Xb(0,"div",35),u.Xb(1,"div",36),u.Xb(2,"mat-icon",37),u.Pc(3,"person"),u.Wb(),u.Wb(),u.Xb(4,"span",38),u.Pc(5,"You"),u.Wb(),u.Wb()),2&e){var n=u.jc(3);u.Fb(1),u.qc("ngStyle",u.uc(1,T,"rgba("+n.randomColor.join(", ")+")"))}}var V=function(){return["video-title"]};function z(e,t){if(1&e&&(u.Xb(0,"div",39),u.Xb(1,"div",40),u.Pc(2),u.Xb(3,"mat-icon",41),u.Pc(4),u.Wb(),u.Wb(),u.Wb()),2&e){var n=u.jc(3);u.Fb(1),u.qc("ngClass",u.tc(3,V)),u.Fb(1),u.Rc("",null==n.param?null:n.param.name," (You) \xa0 "),u.Fb(2),u.Qc(n.userAudioIcon)}}var H=function(e){return["student-preview",e]};function Y(e,t){if(1&e&&(u.Xb(0,"mat-grid-tile",30),u.Nc(1,B,6,3,"div",31),u.Xb(2,"div",32),u.Sb(3,"video",33),u.Nc(4,z,5,4,"div",34),u.Wb(),u.Wb()),2&e){var n=u.jc(2);u.qc("ngClass",u.uc(5,H,(null==n.studentsList?null:n.studentsList.length)<2&&!n.screenshare&&!n.screen?"single-view":""))("colspan",n.screenshare?1:n.fullScreen?2:1)("rowspan",n.screenshare?1:n.fullScreen?2:1),u.Fb(1),u.qc("ngIf",!n.publisherAvatar),u.Fb(3),u.qc("ngIf",n.userStream)}}var G=function(e,t){return["student-preview",e,t]};function $(e,t){if(1&e&&(u.Xb(0,"mat-grid-tile",30),u.Sb(1,"app-video-stream",42),u.Wb()),2&e){var n=u.jc().$implicit,i=u.jc(2);u.qc("ngClass",u.vc(7,G,(null==i.studentsList?null:i.studentsList.length)<2&&!i.screenshare&&!i.screen?"single-view":"",(null==n?null:n.std_id)===i.selectedUserID&&i.selectStu?"select-list":""))("colspan",1)("rowspan",1),u.Fb(1),u.qc("module","student")("selectUser",i.selectUser)("std",i.json.stringify(n))("mediaStreamObj",null==n?null:n.msobj)}}function Q(e,t){if(1&e&&(u.Vb(0),u.Nc(1,$,2,10,"mat-grid-tile",15),u.Ub()),2&e){var n=t.$implicit,i=u.jc(2);u.Fb(1),u.qc("ngIf",!(null!=n&&n.screen)&&(null==n?null:n.std_id)!==(null==i.param?null:i.param.id))}}function J(e,t){if(1&e){var n=u.Yb();u.Xb(0,"button",28),u.Xb(1,"mat-icon",43),u.fc("click",function(){return u.Fc(n),u.jc(2).scrollList("bottom")}),u.Pc(2,"double_arrow"),u.Wb(),u.Wb()}}var K=function(e,t){return{background:e,minHeight:t}},Z=function(e,t){return{marginLeft:e,minHeight:t}};function ee(e,t){if(1&e&&(u.Xb(0,"div",2),u.Sb(1,"audio",3,4),u.Sb(3,"audio",5,6),u.Nc(5,X,2,2,"mat-icon",7),u.Nc(6,N,4,11,"div",8),u.Xb(7,"div",9),u.Xb(8,"div",10),u.Nc(9,R,3,0,"button",11),u.Xb(10,"div",12,13),u.Xb(12,"mat-grid-list",14),u.Nc(13,Y,5,7,"mat-grid-tile",15),u.Nc(14,Q,2,1,"ng-container",16),u.Wb(),u.Wb(),u.Nc(15,J,3,0,"button",11),u.Wb(),u.Wb(),u.Wb()),2&e){var n=u.jc();u.qc("fxLayoutAlign",(n.screenshare||n.screen)&&n.param?"center center":"end start")("ngStyle",u.vc(17,K,n.fullScreen?"black":"",n.screenshare||n.screen?"100vh":"93vh")),u.Fb(1),u.qc("hidden",!0),u.Fb(2),u.qc("hidden",!0),u.Fb(2),u.qc("ngIf",n.screenshare&&!(n.screenShareId===n.param.id.toString()+"___"+n.param.id.toString())),u.Fb(1),u.qc("ngIf",(n.screenshare||n.screen)&&n.param),u.Fb(1),u.qc("fxFlex",n.fullScreen?n.screenshare?"25%":"100%":(null==n.studentsList?null:n.studentsList.length)<2?"2%":"25%"),u.Fb(1),u.qc("fxFlexOrder",n.screenshare?2:n.fullScreen?1:2)("ngStyle",u.vc(20,Z,n.screenshare?"5vh":n.fullScreen?"":"5vh",n.screenshare?"93vh":n.fullScreen?"":"93vh")),u.Fb(1),u.qc("ngIf",(null==n.studentsList?null:n.studentsList.length)>3&&!n.fullScreen),u.Fb(1),u.qc("fxFlex","calc(70vh - 10px)")("fxLayout",n.screenshare||n.fullScreen?"row wrap":"row"),u.Fb(2),u.qc("cols",n.screenshare?1:n.fullScreen?5:1),u.Fb(1),u.qc("ngIf",n.fullScreen),u.Fb(1),u.qc("ngForOf",n.studentsList)("ngForTrackBy",n.trackByUsers),u.Fb(1),u.qc("ngIf",(null==n.studentsList?null:n.studentsList.length)>4&&!n.fullScreen)}}var te,ne,ie=function(){return["invite"]},oe=((ne=function(){function t(e,i,o,a,r,s,c){n(this,t),this.as=e,this.route=i,this.bhvSub=o,this.router=a,this.dialog=r,this.ss=s,this.utility=c,this.screenShareAudio=!0,this.userAudioIcon="mic",this.faceDataState=!0,this.stopScreenShareButtonStat=!0,this.test=!1,this.collapseUsersList={action:!1,icon:"keyboard_double_arrow_right",iconOp:"keyboard_double_arrow_left"},this.publisherAvatar=!0,this.randomColor=[0,0,0],this.avg=[],this.opacity=!1,this.fullScreen=!1,this.duration={duration:0},this.index=0,this.AudioArr=[],this.check=[],this.json=JSON,this.size={col:5,row:3},this.screenShareStat=new u.o,this.resetConfigOptions=new u.o,this.screenShareMediaEmit=new u.o,this.userMediaEmit=new u.o,this.audioStatus=new u.o,this.studentEmit=new u.o,this.stopScreenShare=new u.o,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}return o(t,[{key:"collapseList",value:function(e,t){var n=document.getElementById("usersList");if(n)if(e)var i=25,o=setInterval(function(){n.style.maxWidth=i--+"%",i<1&&(n.style.opacity="0",n.style.visibility="hidden",clearInterval(o))},1);else{var a=25,r=0;null!==t&&(a=this.fullScreen?100:25);var s=setInterval(function(){n.style.maxWidth=r+++"%",r>=a&&(n.style.opacity="1",n.style.visibility="visible",clearInterval(s))},1)}}},{key:"stopScreen",value:function(){var e;this.stopScreenShareButtonStat=!0,this.stopScreenShare.emit(!0),this.screenShareStat.emit("Share Screen"),this.ss.socket.emit("stopScreen",{uuid:this.param.id+"___"+this.param.id}),this.screenshare&&this.publisherScreenShare.destroy("screen"),e=[void 0,void 0,void 0],this.screen=e[0],this.screenshare=e[1],this.screenShareId=e[2],this.bhvSub.obScreenShare(!1)}},{key:"Menu",value:function(e){this.bhvSub.obFullScreen(!e),this.fullScreen=!e}},{key:"startTimer",value:function(){var e=this;0===this.duration.duration&&(this.timer=setInterval(function(){e.duration.duration++,e.avg.map(function(t){e.showSelectUser(t.id,t.score>30)})},2e3))}},{key:"showSelectUser",value:function(e,t){this.selectedUserID=e,this.selectStu=t}},{key:"ngOnChanges",value:function(e){var t,n,i,o,a,r,s;if(e.selectUser&&e.selectUser.currentValue&&this.studentsList){var c=e.selectUser.currentValue.std_id;if(this.studentsList.length>1){var u=this.studentsList.findIndex(function(e){return e.std_id===c});this.studentsList.unshift(this.studentsList.splice(u,1)[0]),this.studentContainer.nativeElement.scroll(0,0)}}e.screenshare&&!1===e.screenshare.currentValue&&(this.screen=void 0),(null===(t=e.actionObj)||void 0===t?void 0:t.currentValue)&&this.actionsHandler(null===(i=null===(n=null==e?void 0:e.actionObj)||void 0===n?void 0:n.currentValue)||void 0===i?void 0:i.name,null===(a=null===(o=null==e?void 0:e.actionObj)||void 0===o?void 0:o.currentValue)||void 0===a?void 0:a.value),void 0!==(null===(r=null==e?void 0:e.configMediaSettings)||void 0===r?void 0:r.currentValue)&&!0===(null===(s=null==e?void 0:e.configMediaSettings)||void 0===s?void 0:s.currentValue)&&(this.availableMediaDevices=mediaDev.availableDevices,this.configMediaoptions())}},{key:"actionsHandler",value:function(e,t){var n=this,i={video:function(){n.pub.toggleVideo("webcam",t),n.publisherAvatar=t,n.studentsList[n.studentsList.findIndex(function(e){return e.std_id===n.param.id})].video=t},audio:function(){n.pub.toggleAudio("webcam",t),n.userAudioIcon=t?"mic":"mic_off",n.studentsList[n.studentsList.findIndex(function(e){return e.std_id===n.param.id})].audio=t},screen:function(){t?n.stopScreen():(n.publisherScreenShare=new PubUser(n.param.name+"(screen)",n.param.id+"___"+n.param.id,n.param.roomid,"student",null,n.ss.socket,"screen",null,"",!0),n.publisherScreenShare.on("screen-share-denied",function(e,t){n.ss.socket.emit("leave",{uuid:t,type:"webcam"})}),n.publisherScreenShare.sock=n.ss.socket,n.publisherScreenShare.connect())},leave:function(){n.openDialog()},remove:function(){console.log("Exit room called")},"toggle-view":function(){n.Menu(t)},"":function(){console.log("Default")}};i[e]()||i[""]()}},{key:"openDialog",value:function(){var e=this,t=this.dialog.open(_.a,{height:"25%",width:"25%"});t.afterClosed().subscribe(function(n){n&&(e.ss.socket.emit("leave",{uuid:e.param.id,type:"webcam"}),e.pub.destroy(),e.stopScreen(),inSession=!1,mediaDev.stop(),e.router.navigate(["student/meeting-end"],{queryParamsHandling:"merge"}).then(function(e){console.log("meeting end working",e)}).catch(function(e){console.error(e)})),t=null})}},{key:"configMediaoptions",value:function(){var e=this;this.availableMediaDevices&&(this.dialogOpener=this.dialog.open(w.a,{data:{devicesList:this.availableMediaDevices},panelClass:"configDevice-dialog-container",hasBackdrop:!0,width:"23%",height:"auto",backdropClass:"backdropBackground"}).afterClosed().subscribe(function(t){e.resetConfigOptions.emit(!1),e.dialogOpener=null,t.result&&mediaDev.deltaMedia(t.result.label,t.result.id)}))}},{key:"managePublisher",value:function(){var e=this;console.warn("ManagerPublisher"),mediaDev.on("media",function(){e.pub=myPubUser=new PubUser(e.param.name,e.param.id,e.param.roomid,"student",null,e.ss.socket,"webcam",mediaDev.mediaStream,"NaN",!0),e.pub.sendSpeakingInfo(),e.pub.on("local",function(t,n){e.userStream=n,e.Menu(!1),e.userMediaEmit.emit(n),e.subSession.start(),e.studentsList[e.studentsList.findIndex(function(t){return t.std_id===e.param.id})].msobj=n}),e.pub.on("remote",function(t,n){return Object(y.b)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(t=this.audioview)||void 0===t?void 0:t.nativeElement)){e.next=6;break}return e.next=3,n;case 3:this.audioview.nativeElement.srcObject=e.sent,e.next=7;break;case 6:console.error("Audio Element not found");case 7:case"end":return e.stop()}},e,this)}))}),e.pub.on("toggleVideo",function(t){e.studentsList[e.studentsList.findIndex(function(e){return e.std_id===t.from})].video=t.status}),e.pub.on("toggleAudio",function(t){e.audioStatus.emit(t),e.studentsList[e.studentsList.findIndex(function(e){return e.std_id===t.from})].audio=t.status,t.event||(e.userAudioIcon=t.status?"mic":"mic_off")}),e.pub.on("screen-share-denied",function(e){}),e.pub.sock=e.ss.socket,e.pub.connect()}),mediaDev.on("media-error",function(t){console.log("media-error :",t),e.router.navigate(["/student/login"],{queryParamsHandling:"merge"}).then().catch()}),mediaDev.start()}},{key:"socketEventListeners",value:function(t,n){var i=this,o={"user-list":function(){if(n.users.filter(function(e){var t;return-1===(null===(t=null==e?void 0:e.uuid)||void 0===t?void 0:t.search(i.param.id))}).length>0){var t,o=e(n.users);try{var a=function(){var e=t.value,n=new SubUser(e.name,Math.floor(1e5*Math.random()),e.roomid,"dummy",e.serverIP,i.ss.socket,e.uuid);n.on("remote",function(t,n,o){i.studentsList.map(function(t){t.std_id===e.uuid&&(t.msobj=o)});var a=i.studentsList.findIndex(function(e){return"teacher"===e.proctor});i.studentsList.unshift(i.studentsList.splice(a,1)[0]),i.mediaStreamObj=o}),n.sock=i.ss.socket,n.connect()};for(o.s();!(t=o.n()).done;)a()}catch(r){o.e(r)}finally{o.f()}}},"face-data":function(){n&&(i.studentsList=i.studentsList.map(function(e){var t,i;return e.engagement=Math.floor((null===(t=n[e.std_id])||void 0===t?void 0:t.engagement)||0),e.mood=Math.floor((null===(i=n[e.std_id])||void 0===i?void 0:i.mood_score)||0),e.category_engagement=e.engagement>80?"High":e.engagement>40?"Medium":"Low",e.category_mood=e.mood>80?"High":e.mood>40?"Medium":"Low",e}),i.studentEmit.emit(i.studentsList),i.debounce&&clearTimeout(i.debounce))},"throw-chalk":function(){i.dialog.open(ae)},leave:function(){var e,t,o,a,r,s;(null===(t=null==n?void 0:n.userObj)||void 0===t?void 0:t.uuid)===i.param.id?(0!==Object.keys(i.pub).length&&i.pub.destroy(),mediaDev.stop(),i.ss.disconnectSocket(),i.router.navigate(["student/meeting-end"],{queryParamsHandling:"merge"})):Object.keys(null==n?void 0:n.userObj).length&&(i.studentsList=i.studentsList.filter(function(e){var t;return e.std_id!==(null===(t=null==n?void 0:n.userObj)||void 0===t?void 0:t.uuid)}),!1===(null===(a=null===(o=null==n?void 0:n.userObj)||void 0===o?void 0:o.janus)||void 0===a?void 0:a.screen)&&(null===(r=null==n?void 0:n.userObj)||void 0===r?void 0:r.uuid.includes("___"))&&(i.screenShareStat.emit("Share Screen"),i.collapseList(!1,!0),i.bhvSub.obScreenShare(!1),e=[void 0,void 0,void 0],i.screen=e[0],i.screenshare=e[1],i.screenShareId=e[2]),i.studentEmit.emit(i.studentsList),i.utility.notify(n.userObj.name+((null===(s=null==n?void 0:n.userObj)||void 0===s?void 0:s.uuid.includes("___"))?" stopped sharing screen":" left the call"),""))},limit:function(){i.utility.notify("The Room is already full. Please Connect with Moderator.",""),i.router.navigate(["auth"])},"screen-share":function(){var e;i.utility.notify("Screen is already being shared by someone",""),e=[void 0,void 0,void 0],i.screen=e[0],i.screenshare=e[1],i.screenShareId=e[2],i.bhvSub.obScreenShare(!1)},"room-audio":function(){i.audioStatus.emit({from:i.param.id,status:!n.mute}),i.userAudioIcon=n.mute?"mic_off":"mic",i.studentsList=i.studentsList.map(function(e){return e.audio=!n.mute,e}),i.utility.notify(n.mute?"Room muted":"Room  un-muted","")},"":function(){}};o[t.match(/^(user-list|face-data|throw-chalk|leave|limit|screen-share|room-audio)$/)?t:""]()||o[""]()}},{key:"getSubscribedUsers",value:function(e,t,n,i,o,a){var r=this;"audio"===e&&null!==t&&(this.scShareAudio.nativeElement.srcObject=t);var s=this.studentsList.find(function(e){return e.std_id===n.uuid});s?s.msobj=t:(this.studentsList.push({audio:a.janus.audio,engAvg:NaN,msobj:t,screen:a.janus.screen,video:a.janus.video,webcam:a.janus.webcam,name:a.name,proctor:a.proctor,roomid:a.janus.room,serverIP:null,time:null,std_id:n.uuid}),this.utility.notify(a.name+" Joined the call","")),this.studentsList.forEach(function(e,t){var i,o;e.std_id.includes("___")&&(r.studentsList=r.studentsList.filter(function(e){var t;return-1===(null===(t=null==e?void 0:e.std_id)||void 0===t?void 0:t.indexOf("___"))}),(null==e?void 0:e.std_id)!==r.param.id+"___"+r.param.id&&r.screenShareMediaEmit.emit(e.msobj),r.bhvSub.obScreenShare(!0),r.param.id+"___"+r.param.id===n.uuid&&(i=[1,!0,r.param.id+"___"+r.param.id],r.screen=i[0],r.screenshare=i[1],r.screenShareId=i[2]),o=[!0,1],r.screenshare=o[0],r.screen=o[1],setTimeout(function(){document.getElementById("screenShareStreem").srcObject=e.msobj,r.utility.notify(a.name+"Shared his/her screen",""),r.screenShareStat.emit(r.param.id+"___"+r.param.id===n.uuid?{type:"Self",Name:r.param.name}:{type:"Other",Name:a.name})},1e3),r.stopScreenShareButtonStat=!1)})}},{key:"ngAfterViewInit",value:function(){var e=this;this.route.queryParams.subscribe(function(t){e.param=t,e.getUsers(t.roomid),setInterval(function(){e.studentID=t.id},2e3),e.ss.generateSocket(),inSession=!0,e.subSession=new StateSubscription("wss://www.monetlive.com/".concat(e.dynamicLink,"/rtc/"),e.param.id,parseInt(e.param.room,10),e.ss.socket),e.managePublisher(),e.ss.socket.onAny(function(t,n){e.socketEventListeners(t,n)})}),this.subSession.on("remote",function(t){var n=t.type,i=t.stream,o=t.slot,a=t.mid,r=t.sub,s=t.user;setTimeout(function(){e.getSubscribedUsers(n,i,r,o,a,s)},3e3)})}},{key:"trackByUsers",value:function(e,t){return t.std_id}},{key:"ngOnInit",value:function(){var e=this;this.startTimer(),this.bhvSub.fullScreen$.subscribe(function(t){t&&(e.fullScreen=t,setTimeout(function(){var t=document.getElementById("webcamvideo"),n=[300,300,!1,!0,e.userStream];t.width=n[0],t.height=n[1],t.muted=n[2],t.autoplay=n[3],t.srcObject=n[4]},500))}),this.bhvSub.screenShare$.subscribe(function(t){""!==t&&(e.opacity=t)}),this.bhvSub.dynamicLink$.subscribe(function(t){e.dynamicLink=t}),this.bhvSub.faceData$.subscribe(function(t){e.faceDataState=t})}},{key:"getUsers",value:function(e){var t=this;this.as.getApi("user_list?id="+e).subscribe(function(e){if(e){if(e.response.filter(function(e){return e.std_id===t.param.id&&!e.screen})[0]||e.response&&e.response.push({active:!0,audio:!0,name:t.param.name,proctor:"student",roomid:t.param.roomid,screen:null,serverIP:"54.201.182.38",std_id:t.param.id,time:new Date,video:!0,webcam:!0}),e.response.length>1){var n=e.response.findIndex(function(e){return"proctor"===e.proctor});e.response.unshift(e.response.splice(n,1)[0])}if(t.selectUser){var i=t.selectUser.std_id;if(e.response.length>1){var o=e.response.findIndex(function(e){return e.std_id===i});e.response.unshift(e.response.splice(o,1)[0])}}t.studentsList=e.response.map(function(e){e.std_id===t.param.id&&(e.active=!0)}),t.studentsList=e.response.filter(function(e){return!1!==e.active}),t.studentEmit.emit(t.studentsList)}})}},{key:"scrollList",value:function(e){var t=document.getElementById("list");t.scrollTop="top"===e?t.scrollTop-200:t.scrollTop+200}},{key:"ngOnDestroy",value:function(){this.pub={},this.timer&&clearInterval(this.timer),this.debounce&&clearTimeout(this.debounce),mediaDev.stop()}},{key:"tryAgain",value:function(){var e=this;this.ss.socket.connect(),this.router.navigate(["/student/dashboard"],{queryParamsHandling:"merge"}),this.as.getApiStatic("getRoomIp?roomid="+this.param.roomid).subscribe(function(t){fetchAvailableInstance(t.room.grp,t.room.instance),e.bhvSub.obDynamicLink(t.room.grp)})}}]),t}()).\u0275fac=function(e){return new(e||ne)(u.Rb(c.a),u.Rb(l.a),u.Rb(f.a),u.Rb(l.b),u.Rb(x.b),u.Rb(d.a),u.Rb(k.a))},ne.\u0275cmp=u.Lb({type:ne,selectors:[["app-video-panel"]],viewQuery:function(e,t){var n;1&e&&(u.Uc(j,1),u.Uc(F,1),u.Uc(I,1),u.Uc(A,1)),2&e&&(u.Cc(n=u.gc())&&(t.studentContainer=n.first),u.Cc(n=u.gc())&&(t.screenShareStreem=n.first),u.Cc(n=u.gc())&&(t.audioview=n.first),u.Cc(n=u.gc())&&(t.scShareAudio=n.first))},inputs:{configMediaSettings:"configMediaSettings",actionObj:"actionObj",module:"module",actions:"actions",selectUser:"selectUser",room:"room",Duration:"Duration"},outputs:{screenShareStat:"screenShareStat",resetConfigOptions:"resetConfigOptions",screenShareMediaEmit:"screenShareMediaEmit",userMediaEmit:"userMediaEmit",audioStatus:"audioStatus",studentEmit:"studentEmit",stopScreenShare:"stopScreenShare"},features:[u.Eb([c.a]),u.Db],decls:2,vars:6,consts:[[3,"room","duration","action","role","toggleMenu","refreshSession"],["fxLayout","row","style","min-height: calc(93vh); position: relative",3,"fxLayoutAlign","ngStyle",4,"ngIf"],["fxLayout","row",2,"min-height","calc(93vh)","position","relative",3,"fxLayoutAlign","ngStyle"],["id","webcamaudio","preload","none","autoplay","",3,"hidden"],["audioview",""],["id","scShareAudio","preload","none","autoplay","",3,"hidden"],["scShareAudio",""],["f-white","","pointer","","style","position: absolute; right: 0px; bottom: 50vh; background: red; z-index: 999;",3,"matTooltip","click",4,"ngIf"],["fxFlex","","class","screenshare-box",3,"fxFlexAlign","fxLayout","fxLayoutAlign","ngStyle",4,"ngIf"],["id","usersList","fxLayout","row","fxFlexAlign","start",3,"fxFlex"],["fxLayout","column","fxFlex","90",2,"height","80vh",3,"fxFlexOrder","ngStyle"],["mat-icon-button","","style","margin: 1% auto;",4,"ngIf"],["id","list","fxLayoutAlign","center start","fxLayoutGap","20px",1,"student-list",3,"fxFlex","fxLayout"],["studentContainer",""],["rowHeight","3:2","full-width","","gutterSize","5px",3,"cols"],["relative","",3,"ngClass","colspan","rowspan",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["f-white","","pointer","",2,"position","absolute","right","0px","bottom","50vh","background","red","z-index","999",3,"matTooltip","click"],["fxFlex","",1,"screenshare-box",3,"fxFlexAlign","fxLayout","fxLayoutAlign","ngStyle"],["id","screenShareStreem","height","100%","width","auto","autoplay","",1,"videocol",3,"fxHide"],["screenShareStreem",""],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-around center",2,"border","1px solid black","height","250px","width","350px","border-radius","4px"],["mat-icon-button","",2,"background","#5829A6"],["id","exit_to_app","f-white",""],["xlarge",""],["mat-raised-button","","color","primary",2,"background","#5829A6","border-radius","40px",3,"disabled","click"],[3,"ngModel","ngModelChange","click"],["mat-icon-button","",2,"margin","1% auto"],["id","arrow_up","f-white","",3,"click"],["relative","",3,"ngClass","colspan","rowspan"],["fxFill","","class","no-camera","fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","5px",4,"ngIf"],["fxLayout","column",1,"videodiv"],["id","webcamvideo","height","100%","width","100%","autoplay","",1,"videocol"],["fxLayout","row",4,"ngIf"],["fxFill","","fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","5px",1,"no-camera"],[1,"avatar",3,"ngStyle"],["f-white",""],["title-white14-400",""],["fxLayout","row"],[3,"ngClass"],["f-white","","large","",2,"vertical-align","middle"],[2,"height","100%","width","90%",3,"module","selectUser","std","mediaStreamObj"],["id","arrow_down","f-white","",3,"click"]],template:function(e,t){1&e&&(u.Xb(0,"app-top-bar",0),u.fc("toggleMenu",function(e){return t.Menu(e)})("refreshSession",function(){return t.tryAgain()}),u.Wb(),u.Nc(1,ee,16,23,"div",1)),2&e&&(u.qc("room",t.room)("duration",t.duration)("action",u.tc(5,ie))("role","student"),u.Fb(1),u.qc("ngIf",t.faceDataState))},directives:[O.a,r.n,h.f,h.e,r.o,b.c,h.a,h.b,h.d,h.g,C.a,r.m,p.a,g.a,b.b,m.a,P.a,L.s,L.v,C.c,r.l,b.a,h.h,M.a],styles:[".student-list[_ngcontent-%COMP%]{height:calc(100vh - 80px);overflow-y:auto;padding:10px}.student-list[_ngcontent-%COMP%]   .student-preview[_ngcontent-%COMP%]{box-sizing:border-box;background:hsla(0,0%,100%,.1)}.student-list-screenShare[_ngcontent-%COMP%]{height:calc(10%);overflow-x:auto;padding:10px}.student-list-screenShare[_ngcontent-%COMP%]   .student-preview[_ngcontent-%COMP%]{box-sizing:border-box;background:hsla(0,0%,100%,.1)}.bubble[_ngcontent-%COMP%]{color:#fff;border-radius:50%;height:30px;width:30px;display:flex;align-items:center;justify-content:center}.Low[_ngcontent-%COMP%]{background-color:#ff275a}.Medium[_ngcontent-%COMP%]{background-color:#ff8b4c}.High[_ngcontent-%COMP%]{background-color:#3ab147}.avatar[_ngcontent-%COMP%]{border:1px solid #eee;height:50px;width:50px;border-radius:50%;display:flex;text-align:center;align-items:center;justify-content:center;z-index:5}.overlay-actions[_ngcontent-%COMP%]{position:absolute;bottom:20px;transform:translateX(-50%);left:50%}.overlay[_ngcontent-%COMP%]{transition:all .3s linear;position:absolute;height:100%;width:100%;background:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.8) 95%);display:none}.student-preview[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{display:block}.student-preview[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff!important}.screenshare-box[_ngcontent-%COMP%]{background-color:#fff;padding:5px;border-radius:4px;height:450px;width:400px}.panel[_ngcontent-%COMP%]{margin:16px;height:auto}.panel[_ngcontent-%COMP%], .panel[_ngcontent-%COMP%]   .panel-head[_ngcontent-%COMP%]{border-radius:10px 10px 0 0}.panel[_ngcontent-%COMP%]   .panel-head[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.1);padding:10px}.panel[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{height:100%!important;width:100%!important}.redDot[_ngcontent-%COMP%]{color:red}.greenDot[_ngcontent-%COMP%]{color:green}mat-grid-tile[_ngcontent-%COMP%]{border:1px solid rgba(86,216,225,.16862745098039217)}mat-grid-list[_ngcontent-%COMP%]{width:100%}.screen-div[_ngcontent-%COMP%]{max-width:70%;height:calc(100vh - 134px);position:relative;margin-right:10px}.screen-div[_ngcontent-%COMP%]   .title-name[_ngcontent-%COMP%]{padding:8px;border-top-right-radius:5px;border-top-left-radius:5px;font-size:16px;text-align:center;position:absolute;bottom:0;background:rgba(0,0,0,.43137254901960786);color:#fff}.single-grid[_ngcontent-%COMP%]{display:block;width:70%;margin:auto}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto;grid-gap:10px;padding:10px}.grid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:center;padding:5px;font-size:30px;grid-row-start:1;grid-row-end:1;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.item1[_ngcontent-%COMP%]{grid-row-start:1!important;grid-row-end:3!important;grid-column-start:1;grid-column-end:3}.engagement[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:12px;font-weight:400;border-radius:50%;height:14px;width:14px;position:absolute;line-height:24px;z-index:10;top:5px;right:5px}.full-screen-div[_ngcontent-%COMP%]{width:70%;margin:0 auto}.single-view[_ngcontent-%COMP%]   .videodiv[_ngcontent-%COMP%]{height:100%;width:99%}mat-grid-tile[_ngcontent-%COMP%]   .video-title[_ngcontent-%COMP%]{position:absolute;top:5px;padding:5px;background-color:rgba(66,63,63,.58);color:#fff}mat-card[_ngcontent-%COMP%]{background-color:#fff!important}#webcamvideo[_ngcontent-%COMP%]{transform:rotateY(180deg);-webkit-transform:rotateY(180deg);-moz-transform:rotateY(180deg)}#arrow_down[_ngcontent-%COMP%]{margin:auto;transform:rotate(90deg);-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg)}#arrow_up[_ngcontent-%COMP%], #exit_to_app[_ngcontent-%COMP%]{margin:auto;transform:rotate(270deg);-webkit-transform:rotate(270deg);-moz-transform:rotate(270deg)}#list[_ngcontent-%COMP%]{scroll-behavior:smooth;min-width:inherit!important}"]}),ne),ae=((te=function(){function e(t,i){n(this,e),this.data=t,this.dialogRef=i}return o(e,[{key:"close",value:function(e){this.dialogRef.close(),e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||te)(u.Rb(x.a),u.Rb(x.f))},te.\u0275cmp=u.Lb({type:te,selectors:[["app-bottom-sheet"]],decls:7,vars:0,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","20px","fxFlex","100"],["src","../../../../../assets/throw-chalk.gif","height","350px","width","600px"],["title-black16-400",""],["fxLayout","row","fxLayoutAlign","center center"],["mat-raised-button","",3,"click"]],template:function(e,t){1&e&&(u.Xb(0,"div",0),u.Sb(1,"img",1),u.Xb(2,"span",2),u.Pc(3,"Please be attentive in the class"),u.Wb(),u.Xb(4,"div",3),u.Xb(5,"button",4),u.fc("click",function(e){return t.close(e)}),u.Pc(6,"Ok"),u.Wb(),u.Wb(),u.Wb())},directives:[h.f,h.e,h.g,h.b,m.a],encapsulation:2}),te),re=a("iQ2w"),se=a("TU8p"),ce=function(e){return{opacity:e}};function ue(e,t){if(1&e&&u.Sb(0,"video",21),2&e){var n=u.jc();u.qc("ngStyle",u.uc(1,ce,!0===n.fullScreen?0:1))}}var le=function(){return{background:"#252030"}},de=function(){return{background:"rgba(0,0,0,0.4)"}};function fe(e,t){if(1&e){var n=u.Yb();u.Xb(0,"div",22),u.Xb(1,"app-call-sidenav",23),u.fc("selectUser",function(e){return u.Fc(n),u.jc().selectUser=e}),u.Wb(),u.Wb()}if(2&e){var i=u.jc();u.Fb(1),u.qc("ngStyle",!0===i.fullScreen?u.tc(3,le):u.tc(4,de))("moduleName","student")("students",i.students)}}var he=function(){return{left:"18vw",width:"82vw"}},be=function(){return{left:"0vw",width:"100vw"}};function ge(e,t){if(1&e){var n=u.Yb();u.Xb(0,"app-video-panel",24),u.fc("screenShareStat",function(e){return u.Fc(n),u.jc().getStat(e)})("screenShareMediaEmit",function(e){return u.Fc(n),u.jc().getScreenShare(e)})("resetConfigOptions",function(e){return u.Fc(n),u.jc().configMediaSettings=e})("userMediaEmit",function(e){return u.Fc(n),u.jc().getUserStream(e)})("audioStatus",function(e){return u.Fc(n),u.jc().getAudioStatus(e)})("studentEmit",function(e){return u.Fc(n),u.jc().getStudents(e)})("stopScreenShare",function(){u.Fc(n);var e=u.jc();return e.shareScreen(e.param.roomid,e.actions[1])}),u.Wb()}if(2&e){var i=u.jc();u.qc("ngStyle",!0===i.dispSideNav?u.tc(8,he):u.tc(9,be))("configMediaSettings",i.configMediaSettings)("selectUser",i.selectUser)("actions",i.actions)("actionObj",i.actionObj)("room",i.room)("Duration",i.duration)("module","student")}}function me(e,t){if(1&e){var n=u.Yb();u.Xb(0,"app-chat",25),u.fc("badgeCount",function(e){return u.Fc(n),u.jc().msgCount=e})("messagePanelOpen",function(e){return u.Fc(n),u.jc().messagePanel=e})("messagePanelClose",function(e){u.Fc(n);var t=u.jc();return t.messagePanel=e,t.receivedMessageEvent(e)}),u.Wb()}if(2&e){var i=u.jc();u.qc("param",i.param)("messagePanel",i.messagePanel)("role","student")("students",i.students)}}function pe(e,t){if(1&e&&(u.Xb(0,"mat-icon",28),u.Pc(1),u.Wb()),2&e){var n=u.jc().$implicit,i=u.jc();u.rc("matBadge","Chat"===n.name?i.msgCount:""),u.qc("inline",!0)("matBadgeHidden",i.msgCount<=0||i.messagePanel),u.Fb(1),u.Rc(" ",n.status?n.icon:n.iconop," ")}}function ve(e,t){if(1&e){var n=u.Yb();u.Vb(0),u.Xb(1,"button",26),u.fc("click",function(){u.Fc(n);var e=t.$implicit,i=u.jc();return e.status=!e.status,i.mainActions(e)}),u.Xb(2,"mat-icon",27),u.Pc(3),u.Wb(),u.Nc(4,pe,2,4,"ng-template"),u.Wb(),u.Ub()}if(2&e){var i=t.$implicit,o=u.jc();u.Fb(1),u.qc("ngClass","leave"===i.value?"leave_button":"other_buttons")("matTooltip",i.status?i.name:i.nameop||"")("disabled","screen"===i.value&&!1===i.status),u.Fb(1),u.rc("matBadge","Chat"===i.name?o.msgCount:""),u.qc("ngClass","other_buttons")("inline",!0)("matTooltip","screen"===i.value&&!1===i.status?i.nameop:"")("matBadgeHidden",o.msgCount<=0||o.messagePanel),u.Fb(1),u.Qc(i.status?i.icon:i.iconop)}}var Se,ye,xe,we=function(){return["message-panel"]},_e=((Se=function(){function e(t,i,o,a,r,s){var c=this;n(this,e),this.sl=t,this.route=i,this.datePipe=o,this.ss=a,this.api=r,this.bhvSub=s,this.configMediaSettings=!1,this.unfoldAction=!1,this.checkSS=!1,this.fullScreen=!0,this.dispSideNav=!0,this.loaded=!1,this.selectUser=!1,this.colsize=6,this.flexValue="243px",this.duration={time:"00:00:00",duration:0},this.date=new Date,this.students=[],this.msgCount=0,this.actionObj={name:"",value:!1},this.video_spinner={loadstart:!0,buffering:!1,canplay:!1},this.actions=[{name:"Mute",nameop:"Unmute",value:"audio",icon:"mic",status:!0,iconop:"mic_off"},{name:"Stop Camera",nameop:"Share Camera",value:"video",icon:"videocam",status:!0,iconop:"videocam_off"},{name:"Leave Room",value:"leave",status:!0,icon:"call_end",iconop:"call_end"},{name:"Share screen",value:"screen",nameop:"Stop Sharing",icon:"screen_share",status:!0,iconop:"stop_screen_share"},{name:"Put hand down",nameop:"Raise hand",value:"hand",icon:"do_not_touch",status:!1,iconop:"pan_tool"},{name:"Chat",value:"chat",icon:"speaker_notes_off",status:!1,iconop:"message"}],this.messagePanel=!1,this.route.queryParams.subscribe(function(e){e&&(c.param=e,c.getRoom(e.roomid))})}return o(e,[{key:"onLoadStart",value:function(e){e&&(this.video_spinner.loadstart=!0)}},{key:"getRoom",value:function(e){var t=this;this.api.getApi("getInviteRoom?roomid="+e).subscribe(function(e){e&&(t.room=e.response)})}},{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.subscribe(function(t){t&&(e.studentID=t.tid)}),0===this.duration.duration&&setInterval(function(){e.duration.duration++,e.duration.time=e.datePipe.transform(1e3*e.duration.duration,"H:mm:ss","UTC")||""},1e3),this.bhvSub.screenShare$.subscribe(function(t){""!==t&&(console.warn("Response -> Bhvr Subject -> ScreenShare Val (Call Component) :",t),e.checkSS=!e.fullScreen&&t,e.actions[3].status=!t,e.dispSideNav=t&&!e.fullScreen?!t:!t||!e.fullScreen||t)}),this.bhvSub.fullScreen$.subscribe(function(t){console.warn("Full Screen BHV (call) :",t),""===t&&void 0===t||(e.fullScreen=t)}),this.sl.load("janus").then(function(t){e.sl.load("user").then(function(n){t[0].loaded&&n[0].loaded&&(e.loaded=!0,console.log("MonetConference file loaded !"))})});var t=[{value:30,cat:"low"},{value:50,cat:"average"},{value:70,cat:"high"}];this.students.map(function(e){return t.map(function(t){e.value>=t.value&&(e.cat=t.cat)}),e})}},{key:"getAudioStatus",value:function(e){e.from===this.param.id&&(this.actions[0].status=e.status)}},{key:"getStudents",value:function(e){this.students=e}},{key:"getUserStream",value:function(e){var t=document.getElementById("userVideo"),n=[300,300,!1,!0,e];t.width=n[0],t.height=n[1],t.muted=n[2],t.autoplay=n[3],t.srcObject=n[4]}},{key:"shareScreen",value:function(e,t){}},{key:"mainActions",value:function(e){var t;switch(t=[e.value,e.status],this.actionObj.name=t[0],this.actionObj.value=t[1],e.value){case"screen":this.actionObj=Object.assign({},this.actionObj),this.bhvSub.obScreenShare(!0);break;case"video":console.warn("Action triggered :",e.value,e.status),this.actionObj=Object.assign({},this.actionObj);break;case"audio":this.actionObj=Object.assign({},this.actionObj);break;case"hand":this.ss.socket.emit("raise-hand",{from:this.param.id,status:e.status});break;case"leave":console.warn("Leave -> student dashboard",e.value,e.status),this.actionObj=Object.assign({},this.actionObj);break;case"chat":this.check(e.status);break;default:console.log("Unknown")}}},{key:"toggleView",value:function(e){var t;t=["toggle-view",e],this.actionObj.name=t[0],this.actionObj.value=t[1],this.actionObj=Object.assign({},this.actionObj)}},{key:"colsizeChange",value:function(e){console.log(e),this.colsize=e.wide}},{key:"setSideNavSize",value:function(e){this.flexValue=e}},{key:"check",value:function(e){this.messagePanel=e,console.log(this.messagePanel)}},{key:"receivedMessageEvent",value:function(e){this.actions[5].status=e}},{key:"ngOnChanges",value:function(e){console.warn(e),(null==e?void 0:e.audioStatus)&&console.warn("Sc audio stats :",e.audioStatus.currentValue)}},{key:"getScreenShare",value:function(e){console.warn("ScreenShare Stream Object :",e),setTimeout(function(){var t,n=document.getElementById("screenShareVideo");n&&(t=[300,300,!1,!0,e],n.width=t[0],n.height=t[1],n.muted=t[2],n.autoplay=t[3],n.srcObject=t[4])},1e3)}},{key:"SidePanel",value:function(){var e=0;console.log("collapse side-panel : "+this.unfoldAction);var t=this.unfoldAction?18:0,n=this.unfoldAction?18:0,i=this.unfoldAction?82:100,o=document.getElementById("sideNav"),a=document.getElementById("video_streams");if(this.unfoldAction)var r=setInterval(function(){o.style.width=t--+"vw",a.style.left=n--+"vw",a.style.width=i+e+++"vw",t<0&&clearInterval(r)},1);else var s=setInterval(function(){o.style.width=t+++"vw",a.style.left=n+++"vw",a.style.width=i-e+++"vw",t>18&&clearInterval(s)},1)}},{key:"getStat",value:function(e){this.actions[3].nameop="object"==typeof e?"Self"===e.type?"You are sharing your screen":"Screen is being Shared by "+e.Name:e}}]),e}()).\u0275fac=function(e){return new(e||Se)(u.Rb(s.a),u.Rb(l.a),u.Rb(r.e),u.Rb(d.a),u.Rb(c.a),u.Rb(f.a))},Se.\u0275cmp=u.Lb({type:Se,selectors:[["app-student-dashboard"]],features:[u.Eb([s.a,r.e,c.a]),u.Db],decls:39,vars:21,consts:[["full-height","",1,"userVid"],["fxLayoutAlign"," center","fxFill",""],["id","userVideo","height","100%","width","100%","autoplay","",3,"ngClass","ngStyle","loadstart"],["id","screenShareVideo","class","videocol","height","100%","width","100%","autoplay","",3,"ngStyle",4,"ngIf"],["fxLayout","row"],["fxLayout","column","fxFlex","10%",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center end"],["id","video_streams",3,"ngStyle","configMediaSettings","selectUser","actions","actionObj","room","Duration","module","screenShareStat","screenShareMediaEmit","resetConfigOptions","userMediaEmit","audioStatus","studentEmit","stopScreenShare",4,"ngIf"],[3,"ngClass","hidden"],[3,"param","messagePanel","role","students","badgeCount","messagePanelOpen","messagePanelClose",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"float-timer",3,"matTooltip"],["title-white18-200",""],["mat-icon-button","","title-white18-200","","id","unfold",3,"matTooltip","disabled","click"],[2,"font-size","30px",3,"inline"],["fxLayout","row","fxLayoutGap","30px",1,"float-panel"],[4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Settings",2,"line-height","60px",3,"matMenuTriggerFor"],[1,"other_buttons"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click"],["mat-menu-item","",3,"click"],["id","screenShareVideo","height","100%","width","100%","autoplay","",1,"videocol",3,"ngStyle"],["fxLayout","column","fxFlex","10%"],["id","sideNav",2,"width","18vw","height","calc(100vh)",3,"ngStyle","moduleName","students","selectUser"],["id","video_streams",3,"ngStyle","configMediaSettings","selectUser","actions","actionObj","room","Duration","module","screenShareStat","screenShareMediaEmit","resetConfigOptions","userMediaEmit","audioStatus","studentEmit","stopScreenShare"],[3,"param","messagePanel","role","students","badgeCount","messagePanelOpen","messagePanelClose"],["mat-icon-button","",3,"ngClass","matTooltip","disabled","click"],["matBadgeColor","accent","matBadgeSize","small",3,"ngClass","inline","matTooltip","matBadgeHidden","matBadge"],["matBadgeColor","accent","matBadgeSize","small",3,"inline","matBadgeHidden","matBadge"]],template:function(e,t){if(1&e&&(u.Xb(0,"div",0),u.Xb(1,"div",1),u.Xb(2,"video",2),u.fc("loadstart",function(e){return t.onLoadStart(e)}),u.Wb(),u.Nc(3,ue,1,3,"video",3),u.Wb(),u.Xb(4,"div",4),u.Nc(5,fe,2,5,"div",5),u.Xb(6,"div",6),u.Nc(7,ge,1,10,"app-video-panel",7),u.Wb(),u.Wb(),u.Xb(8,"div",8),u.Nc(9,me,1,4,"app-chat",9),u.Wb(),u.Vb(10),u.Xb(11,"div",10),u.Xb(12,"span",11),u.Pc(13),u.Wb(),u.Xb(14,"button",12),u.fc("click",function(){return t.unfoldAction=!t.unfoldAction,t.SidePanel()}),u.Xb(15,"mat-icon",13),u.Pc(16),u.Wb(),u.Wb(),u.Wb(),u.Xb(17,"div",14),u.Nc(18,ve,5,9,"ng-container",15),u.Xb(19,"button",16),u.Xb(20,"mat-icon",17),u.Pc(21,"settings"),u.Wb(),u.Wb(),u.Wb(),u.Xb(22,"mat-menu",null,18),u.Xb(24,"button",19),u.fc("click",function(){return t.toggleView(!1)}),u.Xb(25,"mat-icon"),u.Pc(26,"grid_on"),u.Wb(),u.Xb(27,"span"),u.Pc(28,"Grid View"),u.Wb(),u.Wb(),u.Xb(29,"button",19),u.fc("click",function(){return t.toggleView(!0)}),u.Xb(30,"mat-icon"),u.Pc(31,"fullscreen"),u.Wb(),u.Xb(32,"span"),u.Pc(33,"Fullscreen"),u.Wb(),u.Wb(),u.Xb(34,"button",20),u.fc("click",function(){return t.configMediaSettings=!0}),u.Xb(35,"mat-icon"),u.Pc(36,"build"),u.Wb(),u.Xb(37,"span"),u.Pc(38,"Configure"),u.Wb(),u.Wb(),u.Wb(),u.Ub(),u.Wb()),2&e){var n=u.Dc(23);u.Fb(2),u.qc("ngClass",!0===t.dispSideNav?"videocol":"screenShare")("ngStyle",u.uc(18,ce,!0===t.fullScreen?0:1)),u.Fb(1),u.qc("ngIf",t.checkSS),u.Fb(2),u.qc("ngIf",t.dispSideNav),u.Fb(2),u.qc("ngIf",t.loaded),u.Fb(1),u.qc("ngClass",u.tc(20,we))("hidden",!t.messagePanel),u.Fb(1),u.qc("ngIf",t.param),u.Fb(2),u.qc("matTooltip","Call duration"),u.Fb(2),u.Qc(null==t.duration?null:t.duration.time),u.Fb(1),u.qc("matTooltip",t.unfoldAction?"Expand":"Collapse")("disabled",!t.fullScreen),u.Fb(1),u.qc("inline",!0),u.Fb(1),u.Qc(t.unfoldAction?"unfold_less":"unfold_more"),u.Fb(2),u.qc("ngForOf",t.actions),u.Fb(1),u.qc("matMenuTriggerFor",n),u.Fb(5),u.qc("disabled",t.checkSS||!t.actions[3].status),u.Fb(5),u.qc("disabled",t.checkSS||!t.actions[3].status)}},directives:[h.e,h.h,r.l,b.a,r.o,b.c,r.n,h.f,h.g,g.a,m.a,p.a,r.m,v.d,v.a,v.b,h.b,S.a,oe,re.a,se.a],styles:[".side-nav[_ngcontent-%COMP%]{height:calc(100vh - 43px);overflow-y:auto}.message-btn[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}.message-panel[_ngcontent-%COMP%]{position:fixed;right:10px;bottom:0;height:500px;width:300px;background:#fff;z-index:20}.leave_button[_ngcontent-%COMP%]{background:#e71c31;height:60px;width:60px;border-radius:50px;font-size:35px;line-height:55px}.other_buttons[_ngcontent-%COMP%]{height:50px;width:50px;font-size:40px;line-height:55px}.userVid[_ngcontent-%COMP%]{position:relative;overflow:hidden}#sideNav[_ngcontent-%COMP%]{position:absolute;top:0;left:0}#userVideo[_ngcontent-%COMP%]{transform:rotateY(180deg);-webkit-transform:rotateY(180deg);-moz-transform:rotateY(180deg)}#video_streams[_ngcontent-%COMP%]{position:absolute;top:0}.screenShare[_ngcontent-%COMP%]{display:none}#screenShareVideo[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:-1}#unfold[_ngcontent-%COMP%]{transform:rotate(270deg);-webkit-transform:rotate(270deg);-moz-transform:rotate(270deg)}"]}),Se),ke=a("FpXt"),Oe=a("kmnG"),Ce=a("qFsG"),Pe=a("f0Cb"),Le=a("sOF7"),Me=a("4GZO"),je=a("ioy8"),Fe=a("tk/3"),Ie=a("dNgK"),Ae=a("2ChS"),Xe=a("pMjG"),We=a("rjSt"),qe=a("XEBg"),Ue=((ye=o(function e(){n(this,e)})).\u0275fac=function(e){return new(e||ye)},ye.\u0275mod=u.Pb({type:ye}),ye.\u0275inj=u.Ob({imports:[[ke.a,p.b,m.b,g.b,Fe.c,Ie.c,Ae.a,C.b,x.e,v.c,Xe.a,We.a,qe.a,L.m,P.b]]}),ye),Ee=a("folJ"),De=a("Xa2L"),Ne=[{path:"",component:_e}],Re=((xe=o(function e(){n(this,e)})).\u0275fac=function(e){return new(e||xe)},xe.\u0275mod=u.Pb({type:xe}),xe.\u0275inj=u.Ob({imports:[[l.d.forChild(Ne),r.c,ke.a,Oe.e,Ce.c,m.b,Pe.b,L.x,Le.a,g.b,p.b,se.b,Me.a,je.a,Ue,Ee.a,We.a,p.b,De.b,v.c]]}),xe)}}])}();