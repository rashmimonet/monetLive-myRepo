!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"1+8d":function(e,n,r){"use strict";r.r(n),r.d(n,"AuthenticationModule",function(){return Wt});var i=r("ofXK"),a=r("tyNb"),s=r("FpXt"),l=r("0Lug"),c=r("yB+K"),u=r("kYN2"),d=r("fXoL"),f=r("LUsR"),b=r("XiUz"),p=r("3Pt+"),m=r("v0EB"),g=r("AytR"),h=r("tk/3"),v=r("iiAa"),y=r("znSr"),x=r("NFeN"),w=r("kmnG"),P=r("bTqV");function k(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Email is "),d.Xb(2,"strong"),d.Pc(3,"required"),d.Wb(),d.Wb())}function F(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Email is "),d.Xb(2,"strong"),d.Pc(3,"Invalid"),d.Wb(),d.Wb())}function C(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Password is "),d.Xb(2,"strong"),d.Pc(3,"required"),d.Wb(),d.Wb())}function W(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Password should be of "),d.Xb(2,"b"),d.Pc(3,"8"),d.Wb(),d.Pc(4," characters "),d.Xb(5,"b"),d.Pc(6,"(at least one digit, one lower case, one upper case, one special character)"),d.Wb(),d.Wb())}function I(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Email and Password is "),d.Xb(2,"strong"),d.Pc(3,"required"),d.Wb(),d.Wb())}function X(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1,"Terms Condition required"),d.Wb())}function S(t,e){1&t&&d.Sb(0,"img",17)}function L(t,e){if(1&t){var o=d.Yb();d.Xb(0,"form",3),d.fc("ngSubmit",function(){d.Fc(o);var t=d.jc();return t.signUp(t.form.value)}),d.Xb(1,"div",4),d.Xb(2,"span",5),d.Pc(3,"Email Id"),d.Wb(),d.Xb(4,"span",6),d.Sb(5,"input",7),d.Wb(),d.Wb(),d.Xb(6,"div",8),d.Nc(7,k,4,0,"mat-error",9),d.Nc(8,F,4,0,"mat-error",9),d.Wb(),d.Xb(9,"div",4),d.Xb(10,"span",5),d.Pc(11,"Password"),d.Wb(),d.Xb(12,"span",10),d.Sb(13,"input",11),d.Xb(14,"mat-icon",12),d.fc("click",function(){d.Fc(o);var t=d.jc();return t.passView=!t.passView}),d.Pc(15),d.Wb(),d.Wb(),d.Wb(),d.Xb(16,"div",8),d.Nc(17,C,4,0,"mat-error",9),d.Nc(18,W,7,0,"mat-error",9),d.Nc(19,I,4,0,"mat-error",9),d.Nc(20,X,2,0,"mat-error",9),d.Wb(),d.Xb(21,"div",13),d.Xb(22,"a",14),d.fc("click",function(){return d.Fc(o),d.jc().forgotPass=!0}),d.Pc(23,"Forgot Password?"),d.Wb(),d.Xb(24,"button",15),d.Pc(25,"Log In "),d.Nc(26,S,1,0,"img",16),d.Wb(),d.Wb(),d.Wb()}if(2&t){var n=d.jc();d.qc("formGroup",n.form),d.Fb(7),d.qc("ngIf",(null==n.form.controls||null==n.form.controls.email.errors?null:n.form.controls.email.errors.required)&&!(null!=n.form.controls.password.errors&&n.form.controls.password.errors.required)),d.Fb(1),d.qc("ngIf",(null==n.form.controls.email?null:n.form.controls.email.touched)&&(null==n.form.controls.email.errors?null:n.form.controls.email.errors.pattern)),d.Fb(5),d.qc("type",n.passView?"password":"text"),d.Fb(2),d.Qc(n.passView?"visibility_off":"visibility"),d.Fb(2),d.qc("ngIf",(null==n.form.controls.password.errors?null:n.form.controls.password.errors.required)&&!(null!=n.form.controls&&null!=n.form.controls.email.errors&&n.form.controls.email.errors.required)),d.Fb(1),d.qc("ngIf",(null==n.form.controls.password?null:n.form.controls.password.touched)&&(null==n.form.controls.password.errors?null:n.form.controls.password.errors.pattern)),d.Fb(1),d.qc("ngIf",n.isSourceMonet&&(null==n.form.controls||null==n.form.controls.email.errors?null:n.form.controls.email.errors.required)&&(null==n.form.controls.password.errors?null:n.form.controls.password.errors.required)&&(null==n.form.controls.email?null:n.form.controls.email.touched)),d.Fb(1),d.qc("ngIf",!n.termCondition),d.Fb(4),d.qc("ngClass",n.form.valid&&n.isInstanceAlotted&&n.termCondition?"logedInBtn":"logInBtn")("disabled",!(n.form.valid&&n.isInstanceAlotted&&n.termCondition)),d.Fb(2),d.qc("ngIf",n.loader)}}function q(t,e){if(1&t){var o=d.Yb();d.Xb(0,"div",25),d.Xb(1,"span",5),d.Pc(2," New Password"),d.Wb(),d.Xb(3,"span",10),d.Sb(4,"input",11),d.Xb(5,"mat-icon",12),d.fc("click",function(){d.Fc(o);var t=d.jc(2);return t.hide=!t.hide}),d.Pc(6),d.Wb(),d.Wb(),d.Wb()}if(2&t){var n=d.jc(2);d.Fb(4),d.qc("type",n.hide?"password":"text"),d.Fb(2),d.Qc(n.hide?"visibility_off":"visibility")}}function A(t,e){if(1&t){var o=d.Yb();d.Xb(0,"div",25),d.Xb(1,"span",5),d.Pc(2,"Confirm Password"),d.Wb(),d.Xb(3,"span",10),d.Sb(4,"input",26),d.Xb(5,"mat-icon",12),d.fc("click",function(){d.Fc(o);var t=d.jc(2);return t.cPassView=!t.cPassView}),d.Pc(6),d.Wb(),d.Wb(),d.Wb()}if(2&t){var n=d.jc(2);d.Fb(4),d.qc("type",n.cPassView?"password":"text"),d.Fb(2),d.Qc(n.cPassView?"visibility_off":"visibility")}}function _(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Email is "),d.Xb(2,"strong"),d.Pc(3,"required"),d.Wb(),d.Wb())}function N(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Password is "),d.Xb(2,"strong"),d.Pc(3,"required"),d.Wb(),d.Wb())}function O(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Confirm Password is "),d.Xb(2,"strong"),d.Pc(3,"required"),d.Wb(),d.Wb())}function M(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Password should be of "),d.Xb(2,"b"),d.Pc(3,"8"),d.Wb(),d.Pc(4," characters "),d.Xb(5,"b"),d.Pc(6,"(at least one digit, one lower case, one upper case, one special character)"),d.Wb(),d.Wb())}function z(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Password and Confirm Password should be "),d.Xb(2,"strong"),d.Pc(3,"Same"),d.Wb(),d.Wb())}function R(t,e){if(1&t){var o=d.Yb();d.Xb(0,"form",18),d.fc("ngSubmit",function(){d.Fc(o);var t=d.jc();return t.resetPass(t.resetForm.value)}),d.Xb(1,"div",19),d.Xb(2,"span",5),d.Pc(3,"Email Id"),d.Wb(),d.Xb(4,"span",6),d.Sb(5,"input",20),d.Wb(),d.Wb(),d.Nc(6,q,7,2,"div",21),d.Nc(7,A,7,2,"div",21),d.Xb(8,"div",22),d.Nc(9,_,4,0,"mat-error",9),d.Nc(10,N,4,0,"mat-error",9),d.Nc(11,O,4,0,"mat-error",9),d.Nc(12,M,7,0,"mat-error",9),d.Nc(13,z,4,0,"mat-error",9),d.Wb(),d.Xb(14,"div",23),d.Xb(15,"button",24),d.fc("click",function(){return d.Fc(o),d.jc().forgotPass=!1}),d.Xb(16,"mat-icon"),d.Pc(17,"keyboard_arrow_left"),d.Wb(),d.Wb(),d.Xb(18,"button",15),d.Pc(19),d.Wb(),d.Wb(),d.Wb()}if(2&t){var n=d.jc();d.qc("formGroup",n.resetForm),d.Fb(6),d.qc("ngIf",n.passReset),d.Fb(1),d.qc("ngIf",n.passReset),d.Fb(2),d.qc("ngIf",(null==n.resetForm.controls.email?null:n.resetForm.controls.email.touched)&&(null==n.resetForm.controls||null==n.resetForm.controls.email||null==n.resetForm.controls.email.errors?null:n.resetForm.controls.email.errors.required)),d.Fb(1),d.qc("ngIf",(null==n.resetForm.controls.password?null:n.resetForm.controls.password.touched)&&(null==n.resetForm.controls||null==n.resetForm.controls.password||null==n.resetForm.controls.password.errors?null:n.resetForm.controls.password.errors.required)),d.Fb(1),d.qc("ngIf",(null==n.resetForm.controls.matchPassword?null:n.resetForm.controls.matchPassword.touched)&&(null==n.resetForm.controls||null==n.resetForm.controls.matchPassword||null==n.resetForm.controls.matchPassword.errors?null:n.resetForm.controls.matchPassword.errors.required)),d.Fb(1),d.qc("ngIf",null==n.resetForm.get("password").errors?null:n.resetForm.get("password").errors.pattern),d.Fb(1),d.qc("ngIf",null==n.resetForm.errors?null:n.resetForm.errors.noMatch),d.Fb(5),d.qc("ngClass",null!=n.resetForm.controls.email.errors&&n.resetForm.controls.email.errors.required?"logInBtn":"logedInBtn")("disabled",null==n.resetForm.controls.email.errors?null:n.resetForm.controls.email.errors.required),d.Fb(1),d.Qc(n.passReset?"RESET":"SEND LINK")}}var G=/^[a-zA-Z]+[a-zA-Z0-9._]+@[a-zA-Z]+\.[a-zA-Z.]{2,3}$/,T=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[_!@#$%^&'])[^ ]{8,}$/;function j(t){var e,o,n;if(""!==(null===(e=null==t?void 0:t.get("matchPassword"))||void 0===e?void 0:e.value))return(null===(o=null==t?void 0:t.get("password"))||void 0===o?void 0:o.value)===(null===(n=null==t?void 0:t.get("matchPassword"))||void 0===n?void 0:n.value)?null:{noMatch:"password not matching"}}var E,D=((E=function(){function e(o,n,r,i,a,s,l,c,u){t(this,e),this.fb=o,this.as=n,this.router=r,this.sl=i,this.http=a,this.route=s,this.bhvSub=l,this.tps=c,this.utility=u,this.isInstanceAlotted=!1,this.forgotPass=!1,this.hide=!0,this.viewPass=!0,this.passReset=!1,this.passView=!0,this.isSourceMonet=!1,this.cPassView=!0,this.loader=!1,this.termCondition=!0,this.form=this.fb.group({email:["",p.z.compose([p.z.required,p.z.pattern(G)])],password:["",[p.z.required,p.z.pattern(T)]]}),this.resetForm=this.fb.group({email:["",p.z.compose([p.z.required,p.z.pattern(G)])],password:["",[p.z.required,p.z.pattern(T)]],matchPassword:["",p.z.required]},{validator:j})}return o(e,[{key:"ngOnInit",value:function(){var t=this;this.route.queryParams.subscribe(function(e){e&&e.token&&(t.newToken=e.token,t.passReset=t.forgotPass=!0)}),this.tps.loaderStat.subscribe(function(e){return t.loader=e})}},{key:"ngOnChanges",value:function(t){(null==t?void 0:t.instanceStatus)&&(this.isInstanceAlotted=t.instanceStatus.currentValue),(null==t?void 0:t.term)&&(this.termCondition=null==t?void 0:t.term.currentValue)}},{key:"signUp",value:function(t){this.loader=!0,dynamoLink?(this.form.value.source="monet",this.isSourceMonet=!0,this.bhvSub.obDynamicLink(""+dynamoLink),this.tps.loginFunc(this.form.value,"login")):console.error("Dynamic Link not available")}},{key:"resetPass",value:function(t){var e=this;this.forgotPass=!1,this.passReset?this.http.put(g.a.base+"reset-password/"+this.newToken,{newPassword:t.password,confirmNewPassword:t.matchPassword}).subscribe(function(t){e.utility.notify(t.message,""),e.router.navigate(["/"])},function(t){console.error(t.error.message),e.utility.notify(t.error.message,""),e.router.navigate(["/"])}):this.http.put(g.a.base+"forget-password",t).subscribe(function(t){e.utility.notify(t.message,"")},function(t){console.error(t),e.utility.notify(t.message,"")})}}]),e}()).\u0275fac=function(t){return new(t||E)(d.Rb(p.g),d.Rb(m.a),d.Rb(a.b),d.Rb(l.a),d.Rb(h.b),d.Rb(a.a),d.Rb(f.a),d.Rb(c.a),d.Rb(v.a))},E.\u0275cmp=d.Lb({type:E,selectors:[["app-login"]],inputs:{instanceStatus:"instanceStatus",term:"term"},features:[d.Eb([m.a,l.a]),d.Db],decls:3,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFill","","fxLayoutGap","22px",2,"border-radius","10px 0 0 10px"],["fxLayout","column","fxLayoutAlign","center start","ngClass","formClass","padding","","class","card",3,"formGroup","ngSubmit",4,"ngIf"],["fxLayout","column","fxFill","","fxLayoutGap","20px","fxLayoutAlign","center center","padding","","class","card","style","padding: 60px 0;",3,"formGroup","ngSubmit",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center start","ngClass","formClass","padding","",1,"card",3,"formGroup","ngSubmit"],["fxLayout","column","fxFlex","28",2,"width","100%"],["fxFlex","25"],["fxFlex","75"],["type","email","autofocus","","formControlName","email","placeholder","Ex. abc@xyz.com","inputStyle",""],["fxLayout","row","fxFlex","8","fxLayoutGap","7px","fxLayoutAlign","start start",2,"width","100%","color","#c8663c !important"],[4,"ngIf"],["fxFlex","75",2,"position","relative"],["type","password","formControlName","password","inputStyle","",3,"type"],["matSuffix","","passwordIcon","","pointer","",3,"click"],["fxLayout","row","fxFlex","15","fxLayoutAlign","space-between center",2,"width","90%"],[2,"cursor","pointer","text-decoration","underline",3,"click"],["mat-raised-button","","type","submit",3,"ngClass","disabled"],["src","/assets/images/loader.svg","height","20px","width","20px","style","margin-left: 5px; border-radius: 50%",4,"ngIf"],["src","/assets/images/loader.svg","height","20px","width","20px",2,"margin-left","5px","border-radius","50%"],["fxLayout","column","fxFill","","fxLayoutGap","20px","fxLayoutAlign","center center","padding","",1,"card",2,"padding","60px 0",3,"formGroup","ngSubmit"],["fxLayout","column","fxFlex","25","fxLayoutGap","20px",2,"width","70%","color","white"],["type","email","formControlName","email","inputStyle",""],["fxLayout","column","fxFlex","25","fxLayoutGap","10px","style"," width: 70%; color: white;",4,"ngIf"],["fxLayout","column","fxFlex","8","fxLayoutGap","5px","fxLayoutAlign","start center",2,"width","70%","color","#c8663c !important"],["fxLayout","row","fxFlex","17","fxLayoutAlign","space-around center","fxLayoutGap","16px","full-width",""],["mat-mini-fab","","color","primary","type","button",3,"click"],["fxLayout","column","fxFlex","25","fxLayoutGap","10px",2,"width","70%","color","white"],["type","password","formControlName","matchPassword","inputStyle","",3,"type"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Nc(1,L,27,12,"form",1),d.Nc(2,R,20,11,"form",2),d.Wb()),2&t&&(d.Fb(1),d.qc("ngIf",!e.forgotPass),d.Fb(1),d.qc("ngIf",e.forgotPass))},directives:[b.f,b.e,b.h,b.g,i.n,p.A,p.t,i.l,y.a,p.k,b.b,p.d,p.s,p.i,x.a,w.h,P.a,w.b],styles:["[inputStyle][_ngcontent-%COMP%]{background:transparent;border-radius:10px;width:85%;height:40%;padding:10px;border:1px solid #dcdcdc;outline:none;color:#fff}.formClass[_ngcontent-%COMP%]{width:85%;height:80%;font-style:normal;font-weight:400;font-size:16px;line-height:16px;color:#fff!important}.formClass[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill{-webkit-transition:background-color 5000s ease-in-out 0s!important;transition:background-color 5000s ease-in-out 0s!important;-webkit-text-fill-color:#fff!important}.logInBtn[_ngcontent-%COMP%]{width:100px;border-radius:20px;border:1px solid #fff}.logInBtn[_ngcontent-%COMP%]     .mat-button-wrapper{color:#fff}.logedInBtn[_ngcontent-%COMP%]{width:100px;border-radius:20px;border:1px solid #fff}.logedInBtn[_ngcontent-%COMP%]     .mat-button-wrapper{color:#000}[passwordIcon][_ngcontent-%COMP%]{position:absolute;right:13%;top:20%;color:#777}.mat-error[_ngcontent-%COMP%]{color:rgba(210,70,11,.99)!important}"]}),E),V=r("QibW");function B(t,e){1&t&&d.Sb(0,"img",8)}var U,Z=((U=function(){function e(o,n,r){var i=this;t(this,e),this.router=o,this.api=n,this.tps=r,this.adminId=JSON.parse(localStorage.getItem("userDetails")||"").email,this.role="moderator",this.loader=!1,this.onSubmit=function(){i.loader=!0,i.tps.updateRole({userType:i.role,email:i.adminId},"updateRole")}}return o(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||U)(d.Rb(a.b),d.Rb(m.a),d.Rb(c.a))},U.\u0275cmp=d.Lb({type:U,selectors:[["app-role"]],decls:14,vars:3,consts:[["fxLayout","column","fxFlex","100","fxLayoutAlign","center center","fxLayoutGap","10%","ngClass","formClass",2,"border-radius","10px 0 0 10px"],[2,"color","#3EFF10","font-size","24px"],["aria-label","Select an option","fxLayoutGap","30px",3,"ngModel","ngModelChange"],["value","moderator"],["value","observer"],["fxLayout","row","fxFlex","10","fxLayoutAlign","end center",2,"width","70%"],["mat-raised-button","","type","submit",3,"ngClass","click"],["src","/assets/images/loader.svg","height","20px","width","20px","style","margin-left: 5px; border-radius: 50%",4,"ngIf"],["src","/assets/images/loader.svg","height","20px","width","20px",2,"margin-left","5px","border-radius","50%"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"span",1),d.Pc(2,"Awesome!!!"),d.Wb(),d.Xb(3,"span"),d.Pc(4,"Just need to select your role before you move to Dashboard"),d.Wb(),d.Xb(5,"mat-radio-group",2),d.fc("ngModelChange",function(t){return e.role=t}),d.Xb(6,"mat-radio-button",3),d.Pc(7,"Moderator"),d.Wb(),d.Xb(8,"mat-radio-button",4),d.Pc(9,"Observer"),d.Wb(),d.Wb(),d.Xb(10,"div",5),d.Xb(11,"button",6),d.fc("click",function(){return e.onSubmit()}),d.Pc(12,"Submit "),d.Nc(13,B,1,0,"img",7),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Fb(5),d.qc("ngModel",e.role),d.Fb(6),d.qc("ngClass","logedInBtn"),d.Fb(2),d.qc("ngIf",e.loader))},directives:[b.f,b.b,b.e,b.g,i.l,y.a,V.b,p.s,p.v,V.a,P.a,i.n],styles:[".formClass[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:18px;line-height:16px;color:#fff!important}.formClass[_ngcontent-%COMP%]     .mat-radio-checked .mat-radio-inner-circle{background:#32dd16!important}.formClass[_ngcontent-%COMP%]     .mat-radio-button, .formClass[_ngcontent-%COMP%]     .mat-radio-button .mat-radio-label-content, .formClass[_ngcontent-%COMP%]     .mat-radio-group{color:#fff!important}.logInBtn[_ngcontent-%COMP%]{width:100px;border-radius:20px;border:1px solid #fff}.logInBtn[_ngcontent-%COMP%]     .mat-button-wrapper{color:#fff}.logedInBtn[_ngcontent-%COMP%]{width:100px;border-radius:20px;background:#493077;border:1px solid #fff}.logedInBtn[_ngcontent-%COMP%]     .mat-button-wrapper{color:#fff}"]}),U);function Y(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Name is "),d.Xb(2,"strong"),d.Pc(3,"required"),d.Wb(),d.Wb())}function J(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Name should be of minimum "),d.Xb(2,"b"),d.Pc(3,"3"),d.Wb(),d.Pc(4," alpha characters "),d.Wb())}function Q(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Email is "),d.Xb(2,"strong"),d.Pc(3,"required"),d.Wb(),d.Wb())}function H(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Email is "),d.Xb(2,"strong"),d.Pc(3,"Invalid"),d.Wb(),d.Wb())}function K(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Password is "),d.Xb(2,"strong"),d.Pc(3,"required"),d.Wb(),d.Wb())}function $(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Password should be of "),d.Xb(2,"b"),d.Pc(3,"8"),d.Wb(),d.Pc(4," characters "),d.Xb(5,"b"),d.Pc(6,"(at least one digit, one lower case, one upper case, one special character)"),d.Wb(),d.Wb())}function tt(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Confirm Password is "),d.Xb(2,"strong"),d.Pc(3,"required"),d.Wb(),d.Wb())}function et(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1," Password and Confirm Password should be "),d.Xb(2,"strong"),d.Pc(3,"Same"),d.Wb(),d.Wb())}function ot(t,e){1&t&&(d.Xb(0,"mat-error"),d.Pc(1,"Terms Condition required"),d.Wb())}var nt=/[a-zA-Z_ ]*$/,rt=/^[a-zA-Z]+[a-zA-Z0-9._]+@[a-zA-Z]+\.[a-zA-Z.]{2,3}$/,it=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[_!@#$%^&'])[^ ]{8,}$/;function at(t){var e,o,n;if(""!==(null===(e=null==t?void 0:t.get("confirm_password"))||void 0===e?void 0:e.value))return(null===(o=null==t?void 0:t.get("password"))||void 0===o?void 0:o.value)===(null===(n=null==t?void 0:t.get("confirm_password"))||void 0===n?void 0:n.value)?null:{noMatch:"password not matching"}}var st,lt=((st=function(){function e(o,n,r,i){t(this,e),this.fb=o,this.as=n,this.http=r,this.utility=i,this.formSubmission=!0,this.passView=!0,this.cPassView=!0,this.tabChange=new d.o,this.form=this.fb.group({name:["",[p.z.required,p.z.pattern(nt),p.z.min(3)]],email:["",p.z.compose([p.z.required,p.z.pattern(rt)])],password:["",[p.z.required,p.z.pattern(it)]],confirm_password:["",p.z.required]},{validator:at})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){(null==t?void 0:t.term)&&(this.termCondition=null==t?void 0:t.term.currentValue)}},{key:"signUp",value:function(t){var e,o,n=this;this.formSubmission?(this.form.value.ID=Math.floor(1e6*Math.random()).toString(),"license"===(null===(e=this.licenseToken)||void 0===e?void 0:e.type)&&(this.form.value.licenseToken=this.licenseToken.value,this.form.value.context="monet"),this.http.post("https://www.monetlive.com/many/api/"+("license"===(null===(o=this.licenseToken)||void 0===o?void 0:o.type)?"register-invited-user":"register-user"),this.form.value).subscribe(function(t){!1===t.error?(n.utility.notify(t.message,"success"),n.tabChange.emit(!1)):n.utility.notify(t.message,"error")})):this.tabChange.emit(this.formSubmission)}},{key:"setFormSubmissionFlag",value:function(t){this.formSubmission=t}}]),e}()).\u0275fac=function(t){return new(t||st)(d.Rb(p.g),d.Rb(m.a),d.Rb(h.b),d.Rb(v.a))},st.\u0275cmp=d.Lb({type:st,selectors:[["app-register"]],inputs:{term:"term",licenseToken:"licenseToken"},outputs:{tabChange:"tabChange"},features:[d.Eb([m.a]),d.Db],decls:45,vars:16,consts:[["fxLayout","column","fxLayoutAlign","center center","fxFill","","fxLayoutGap","22px",2,"border-radius","10px 0 0 10px"],["fxLayout","column","fxLayoutGap","10px","fxLayoutAlign","center start","ngClass","formClass","padding","",1,"card",3,"formGroup","ngSubmit"],["fxLayout","column","fxFlex","20","fxLayoutGap","10px",2,"width","100%"],["fxFlex","25"],["fxFlex","75"],["type","text","autofocus","","formControlName","name","placeholder","Enter Your Name","inputStyle",""],["fxLayout","row","fxFlex","8","fxLayoutGap","10px","fxLayoutAlign","start center",2,"width","100%","color","#c8663c !important"],[4,"ngIf"],["type","email","formControlName","email","placeholder","Ex. abc@xyz.com","inputStyle",""],["fxFlex","75",2,"position","relative"],["type","password","formControlName","password","inputStyle","",3,"type"],["matSuffix","","passwordIcon","","pointer","",3,"click"],["type","password","formControlName","confirm_password","inputStyle","",3,"type"],["fxLayout","row","fxFlex","8","fxLayoutGap","10px","fxLayoutAlign","center center",2,"width","100%","color","#c8663c !important"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","16px",2,"width","88%"],["mat-button","",3,"click"],["mat-raised-button","",3,"ngClass","disabled","click"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"form",1),d.fc("ngSubmit",function(){return e.signUp(e.form.value)}),d.Xb(2,"div",2),d.Xb(3,"span",3),d.Pc(4,"Name"),d.Wb(),d.Xb(5,"span",4),d.Sb(6,"input",5),d.Wb(),d.Xb(7,"div",6),d.Nc(8,Y,4,0,"mat-error",7),d.Nc(9,J,5,0,"mat-error",7),d.Wb(),d.Wb(),d.Xb(10,"div",2),d.Xb(11,"span",3),d.Pc(12,"Email Id"),d.Wb(),d.Xb(13,"span",4),d.Sb(14,"input",8),d.Wb(),d.Xb(15,"div",6),d.Nc(16,Q,4,0,"mat-error",7),d.Nc(17,H,4,0,"mat-error",7),d.Wb(),d.Wb(),d.Xb(18,"div",2),d.Xb(19,"span",3),d.Pc(20,"Password"),d.Wb(),d.Xb(21,"span",9),d.Sb(22,"input",10),d.Xb(23,"mat-icon",11),d.fc("click",function(){return e.passView=!e.passView}),d.Pc(24),d.Wb(),d.Wb(),d.Xb(25,"div",6),d.Nc(26,K,4,0,"mat-error",7),d.Nc(27,$,7,0,"mat-error",7),d.Wb(),d.Wb(),d.Xb(28,"div",2),d.Xb(29,"span",3),d.Pc(30,"Confirm Password"),d.Wb(),d.Xb(31,"span",9),d.Sb(32,"input",12),d.Xb(33,"mat-icon",11),d.fc("click",function(){return e.cPassView=!e.cPassView}),d.Pc(34),d.Wb(),d.Wb(),d.Xb(35,"div",6),d.Nc(36,tt,4,0,"mat-error",7),d.Nc(37,et,4,0,"mat-error",7),d.Wb(),d.Wb(),d.Xb(38,"div",13),d.Nc(39,ot,2,0,"mat-error",7),d.Wb(),d.Xb(40,"div",14),d.Xb(41,"button",15),d.fc("click",function(){return e.setFormSubmissionFlag(!1)}),d.Pc(42,"Cancel"),d.Wb(),d.Xb(43,"button",16),d.fc("click",function(){return e.setFormSubmissionFlag(!0)}),d.Pc(44,"Sign Up"),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Fb(1),d.qc("formGroup",e.form),d.Fb(7),d.qc("ngIf",(null==e.form.controls.name?null:e.form.controls.name.touched)&&(null==e.form.controls||null==e.form.controls.name.errors?null:e.form.controls.name.errors.required)),d.Fb(1),d.qc("ngIf",null==e.form.get("name").errors?null:e.form.get("name").errors.pattern),d.Fb(7),d.qc("ngIf",(null==e.form.controls.email?null:e.form.controls.email.touched)&&(null==e.form.controls||null==e.form.controls.email.errors?null:e.form.controls.email.errors.required)),d.Fb(1),d.qc("ngIf",(null==e.form.controls.email?null:e.form.controls.email.touched)&&(null==e.form.controls.email.errors?null:e.form.controls.email.errors.pattern)),d.Fb(5),d.qc("type",e.passView?"password":"text"),d.Fb(2),d.Qc(e.passView?"visibility_off":"visibility"),d.Fb(2),d.qc("ngIf",(null==e.form.controls.password?null:e.form.controls.password.touched)&&(null==e.form.controls||null==e.form.controls.password.errors?null:e.form.controls.password.errors.required)),d.Fb(1),d.qc("ngIf",null==e.form.get("password").errors?null:e.form.get("password").errors.pattern),d.Fb(5),d.qc("type",e.cPassView?"password":"text"),d.Fb(2),d.Qc(e.cPassView?"visibility_off":"visibility"),d.Fb(2),d.qc("ngIf",(null==e.form.controls.confirm_password?null:e.form.controls.confirm_password.touched)&&(null==e.form.controls||null==e.form.controls.confirm_password.errors?null:e.form.controls.confirm_password.errors.required)),d.Fb(1),d.qc("ngIf",null==e.form.errors?null:e.form.errors.noMatch),d.Fb(2),d.qc("ngIf",!e.termCondition),d.Fb(4),d.qc("ngClass",e.form.invalid||!e.termCondition?"logInBtn":"logedInBtn")("disabled",e.form.invalid||!e.termCondition))},directives:[b.f,b.e,b.h,b.g,p.A,p.t,i.l,p.k,b.b,p.d,p.s,p.i,i.n,x.a,w.h,P.a,w.b],styles:[".formClass[_ngcontent-%COMP%]{width:85%;height:85%;font-style:normal;font-weight:400;font-size:16px;line-height:16px;color:#fff!important}.formClass[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill{-webkit-transition:background-color 5000s ease-in-out 0s!important;transition:background-color 5000s ease-in-out 0s!important;-webkit-text-fill-color:#fff!important}[inputStyle][_ngcontent-%COMP%]{background:transparent;border-radius:10px;width:85%;height:40%;padding:10px;border:1px solid #dcdcdc;outline:none;color:#fff}.logInBtn[_ngcontent-%COMP%]{width:100px;border-radius:20px;border:1px solid #fff}.logInBtn[_ngcontent-%COMP%]     .mat-button-wrapper{color:#fff}.logedInBtn[_ngcontent-%COMP%]{width:100px;border-radius:20px;border:1px solid #fff;color:#000}[passwordIcon][_ngcontent-%COMP%]{position:absolute;right:13%;top:20%;color:#777}.mat-error[_ngcontent-%COMP%]{color:rgba(210,70,11,.99)!important;font-size:14px!important}"]}),st);function ct(t,e){if(1&t&&d.Sb(0,"app-login",16),2&t){var o=d.jc();d.qc("instanceStatus",o.instanceStatus)("term",o.termsCondition)}}function ut(t,e){1&t&&d.Sb(0,"app-role",17)}function dt(t,e){if(1&t){var o=d.Yb();d.Xb(0,"app-register",18),d.fc("tabChange",function(t){return d.Fc(o),d.jc().tabChange(t)}),d.Wb()}if(2&t){var n=d.jc();d.qc("licenseToken",n.token)("term",n.termsCondition)}}function ft(t,e){if(1&t){var o=d.Yb();d.Xb(0,"div",19),d.Xb(1,"span"),d.Pc(2,"Don't have an account ?"),d.Wb(),d.Xb(3,"span",20),d.fc("click",function(){d.Fc(o);var t=d.jc();return t.tabIndex=!t.tabIndex}),d.Pc(4),d.Wb(),d.Wb()}if(2&t){var n=d.jc();d.Fb(4),d.Qc(n.tabIndex?"Sign Up":"Login")}}var bt=function(t){return{cursor:t}};function pt(t,e){if(1&t){var o=d.Yb();d.Xb(0,"div",21),d.Xb(1,"button",22),d.fc("click",function(){return d.Fc(o),d.jc().login("google")}),d.Sb(2,"img",23),d.Wb(),d.Xb(3,"button",22),d.fc("click",function(){return d.Fc(o),d.jc().login("outlook")}),d.Sb(4,"img",24),d.Wb(),d.Wb()}if(2&t){var n=d.jc();d.Fb(1),d.qc("ngStyle",d.uc(4,bt,n.instanceStatus&&n.termsCondition?"pointer":""))("disabled",!(n.instanceStatus&&n.termsCondition)),d.Fb(2),d.qc("ngStyle",d.uc(6,bt,n.instanceStatus&&n.termsCondition?"pointer":""))("disabled",!(n.instanceStatus&&n.termsCondition))}}var mt,gt,ht,vt,yt=((mt=function(){function e(o,n,r,i,a,s){t(this,e),this.router=o,this.route=n,this.sl=r,this.tps=i,this.ss=a,this.bhvSub=s,this.tabIndex=!0,this.instanceStatus=!1,this.termsCondition=!0,this.rolePopup=!1,this.token={type:"normal",value:""}}return o(e,[{key:"ngOnInit",value:function(){var t=this;this.route.queryParams.subscribe(function(e){var o,n=window.location.href.split("#")[1];n&&""!==n&&(o=n.split("&").reduce(function(t,e){var o=e.split("=");return t[o[0]]=o[1],t},{}),localStorage.setItem("gapiAccessToken",o.access_token)),e&&e.licenseToken?(t.tabIndex=!1,t.token.type="license",t.token.value=e.licenseToken,Object.assign({},t.token),sessionStorage.setItem("licenseToken",JSON.stringify(t.token))):(null==o?void 0:o.id_token)&&t.tps.loginFunc({token:o.id_token},"auth/google")}),this.tps.rolePopup.subscribe(function(e){return t.rolePopup=e}),this.sl.load("janus").then(function(e){t.sl.load("user").then(function(o){e[0].loaded&&o[0].loaded&&(fetchAvailableInstance?fetchAvailableInstance(null,null,function(e){(null==e?void 0:e.allotted)&&(t.instanceStatus=e.allotted,t.ss.generateSocket())}):console.error("FetchAvailable Instance not found"))})})}},{key:"tabChange",value:function(t){t||(this.tabIndex=!t)}},{key:"login",value:function(t){dynamoLink&&"function"!=typeof dynamoLink?(this.bhvSub.obDynamicLink(""+dynamoLink),"google"===t?this.tps.googleLogIn(function(t){}):"outlook"===t&&this.tps.outlookLogin()):console.error("Dynamic Link not available")}}]),e}()).\u0275fac=function(t){return new(t||mt)(d.Rb(a.b),d.Rb(a.a),d.Rb(l.a),d.Rb(c.a),d.Rb(u.a),d.Rb(f.a))},mt.\u0275cmp=d.Lb({type:mt,selectors:[["app-authentication"]],features:[d.Eb([l.a,c.a,u.a])],decls:22,vars:7,consts:[["fxLayout","row","fxFill","","fxLayoutAlign","center center","fullDivs",""],["FxLayout","column","fxFlex","65","FxLayoutAlign","center center","loginArea",""],["fxLayout","row","fxFlex","100","fxLayoutAlign","center stretch",2,"height","100% !important","overflow","hidden","padding","3px"],["fxFlex","60",3,"instanceStatus","term",4,"ngIf"],["fxFlex","60",4,"ngIf"],["fxFlex","60",3,"licenseToken","term","tabChange",4,"ngIf"],["fxFlex","1",2,"display","flex","align-items","center","margin","0"],["hrTag",""],["fxLayout","column","fxFlex","39","fxLayoutGap","40px","fxLayoutAlign","center center",2,"border-radius","0 10px 10px 0","background-size","contain"],["src","/assets/MonetLiveWhite.png","width","50%","padding","","alt","monet","pointer",""],["f-white","","fxLayoutGap","5px",4,"ngIf"],["f-white","","fxLayout","column","fxLayoutGap","20px",4,"ngIf"],["fxLayout","row","fxLayoutGap","10px"],["type","checkbox",3,"value","ngModel","ngModelChange"],["pointer","","routerLink","/privacy-policy",2,"color","#FFFFFF"],["bold",""],["fxFlex","60",3,"instanceStatus","term"],["fxFlex","60"],["fxFlex","60",3,"licenseToken","term","tabChange"],["f-white","","fxLayoutGap","5px"],[2,"font-size","16px","cursor","pointer","text-decoration","underline","font-style","italic",3,"click"],["f-white","","fxLayout","column","fxLayoutGap","20px"],["thirdPartyLogin","",3,"ngStyle","disabled","click"],["src","/assets/images/google_login.svg","alt","not Found",2,"width","210px"],["src","/assets/images/ms-signin_dark.svg","alt","not Found",2,"height","40px"]],template:function(t,e){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Xb(2,"div",2),d.Nc(3,ct,1,2,"app-login",3),d.Nc(4,ut,1,0,"app-role",4),d.Nc(5,dt,1,2,"app-register",5),d.Xb(6,"div",6),d.Sb(7,"hr",7),d.Wb(),d.Xb(8,"div",8),d.Sb(9,"img",9),d.Nc(10,ft,5,1,"div",10),d.Nc(11,pt,5,8,"div",11),d.Xb(12,"div",12),d.Xb(13,"span"),d.Xb(14,"input",13),d.fc("ngModelChange",function(t){return e.termsCondition=t}),d.Wb(),d.Wb(),d.Xb(15,"span",14),d.Pc(16,"I agree with "),d.Xb(17,"span",15),d.Pc(18,"Terms"),d.Wb(),d.Pc(19," and "),d.Xb(20,"span",15),d.Pc(21,"Conditions"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Fb(3),d.qc("ngIf",e.tabIndex&&!e.rolePopup),d.Fb(1),d.qc("ngIf",e.rolePopup),d.Fb(1),d.qc("ngIf",!e.tabIndex),d.Fb(5),d.qc("ngIf",!e.rolePopup),d.Fb(1),d.qc("ngIf",!e.rolePopup),d.Fb(3),d.qc("value",e.termsCondition)("ngModel",e.termsCondition))},directives:[b.f,b.h,b.e,b.b,i.n,b.g,p.a,p.s,p.v,a.c,D,Z,lt,i.o,y.c],styles:["[hrTag][_ngcontent-%COMP%]{height:70%;width:0;border:1px solid #fff;opacity:.4}[fullDivs][_ngcontent-%COMP%]{background:url(/assets/images/loginBg.png) no-repeat fixed 50%;background-size:cover}[loginArea][_ngcontent-%COMP%]{height:60%;background:linear-gradient(180deg,rgba(129,77,214,.67),rgba(46,30,72,0) 75.27%);border-radius:12px}[bold][_ngcontent-%COMP%]{font-weight:500;text-decoration:underline}[thirdPartyLogin][_ngcontent-%COMP%]{border:none;background:transparent}"]}),mt),xt=r("qFsG"),wt=r("f0Cb"),Pt=((gt=o(function e(){t(this,e)})).\u0275fac=function(t){return new(t||gt)},gt.\u0275mod=d.Pb({type:gt}),gt.\u0275inj=d.Ob({imports:[[i.c,b.i,P.b,w.e,xt.c,wt.b,p.x,x.b]]}),gt),kt=r("d3UM"),Ft=((ht=o(function e(){t(this,e)})).\u0275fac=function(t){return new(t||ht)},ht.\u0275mod=d.Pb({type:ht}),ht.\u0275inj=d.Ob({imports:[[i.c,wt.b,w.e,p.x,xt.c,P.b,b.i,kt.b,s.a]]}),ht),Ct=[{path:"",component:yt}],Wt=((vt=o(function e(){t(this,e)})).\u0275fac=function(t){return new(t||vt)},vt.\u0275mod=d.Pb({type:vt}),vt.\u0275inj=d.Ob({providers:[],imports:[[i.c,a.d.forChild(Ct),s.a,Pt,Ft,P.b]]}),vt)},"yB+K":function(e,n,r){"use strict";r.d(n,"a",function(){return v});var i=r("mrSG"),a=r("tk/3"),s=r("2Vo4"),l=r("fXoL"),c=r("tyNb"),u=r("0Lug"),d=r("v0EB"),f=r("E8bv"),b=r("iiAa"),p="591973291813-2l1evk1ru95g6372u0r98i3oqmnrlng5.apps.googleusercontent.com",m="AIzaSyCWg8dY5ZZMaDZ4LDiDNQooF4Nc3CEqPuA",g=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],h="https://www.googleapis.com/auth/calendar",v=function(){var e=function(){function e(o,n,r,i,a,l,c){t(this,e),this.router=o,this.sl=n,this.http=r,this.as=i,this.msalService=a,this.zone=l,this.utility=c,this.init=!1,this.loaderStat=new s.a(!1),this.rolePopup=new s.a(!1),gapi.load("client:auth2",this.googleInitClient())}return o(e,[{key:"isLoggedIn",value:function(){return"true"===localStorage.getItem("GoogleLoginState")?{status:!0,service:"google"}:null!==this.msalService.instance.getActiveAccount()?{status:!0,service:"outlook"}:{status:!1,service:"monet"}}},{key:"tokenVerify",value:function(t){var e,o,n,r=this;this.utility.notify(t.message,"success"),t&&(null===(e=null==t?void 0:t.user)||void 0===e?void 0:e.plan)&&this.as.getApi("getPlan?planId="+(null===(o=t.user)||void 0===o?void 0:o.plan.id)).subscribe(function(t){localStorage.setItem("userPlanDetails",JSON.stringify(null==t?void 0:t.plan))}),this.sl.load("janus").then(function(t){return r.sl.load("user").then(function(e){return t[0].loaded&&e[0].loaded})}),(null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.token)&&this.as.storeLocalStorage("userDetails",t.user),this.roleCheck(t)}},{key:"roleCheck",value:function(t){var e=this;this.zone.run(function(){var o;"NaN"!==t.user.userType?e.router.navigate(["moderator"===(null===(o=t.user)||void 0===o?void 0:o.userType)?"profile/dashboard/":"/manager"],{queryParams:{name:t.user.name,licenseToken:null},queryParamsHandling:"merge"}):e.rolePopup.next(!0)})}},{key:"loginFunc",value:function(t,e){var o=this;this.http.post("https://www.monetlive.com/many/api/"+e,t).subscribe(function(t){o.loaderStat.next(!1),t.error?o.utility.notify(t.message,"error"):o.tokenVerify(t)})}},{key:"updateRole",value:function(t,e){var o=this;this.as.putApi("updateRole",t).subscribe(function(t){t.error?o.utility.notify(t.message,"error"):o.tokenVerify(t)})}},{key:"googleInitClient",value:function(){gapi.load("client:auth2",function(){gapi.client.init({apiKey:m,clientId:p,discoveryDocs:g,scope:h})})}},{key:"googleLogIn",value:function(t){var e=this;gapi.load("client:auth2",function(){gapi.client.init({apiKey:m,clientId:p,discoveryDocs:g,scope:h}).then(function(){gapi.auth2.getAuthInstance().signIn().then(function(o){var n=JSON.parse(sessionStorage.getItem("licenseToken")||"{}").value;e.gData=o.Lu,n?e.http.post("https://www.monetlive.com/many/api/register-invited-user",{token:o.xc.id_token,licenseToken:n,context:"google"}).subscribe(function(t){t.error||e.zone.run(function(){e.as.storeLocalStorage("userDetails",t.user),e.router.navigate(["profile/dashboard/"],{queryParams:{name:t.user.name},queryParamsHandling:"merge"})})}):e.loginFunc({token:o.Cc.id_token},"auth/google"),e.init=!0,localStorage.setItem("GoogleLoginState","true"),t(e.init)}).catch(function(t){})}).catch(function(t){window.location.replace(e.getAuthUri())})})}},{key:"createGoogleCalenderEvent",value:function(t){return Object(i.b)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.client.calendar.events.insert({calendarId:"primary",sendNotifications:!0,sendUpdates:"all",conferenceDataVersion:1,resource:t}).then(function(t){return t.result.id},function(t){console.error(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))}},{key:"getGoogleCalenderEvents",value:function(){var t,e,o;return Object(i.b)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=new Date,n.next=3,null===(o=null===(e=null===(t=null===gapi||void 0===gapi?void 0:gapi.client)||void 0===t?void 0:t.calendar)||void 0===e?void 0:e.events)||void 0===o?void 0:o.list({calendarId:"primary",timeMin:new Date(r.getFullYear(),r.getMonth(),1).toISOString(),showDeleted:!1,singleEvents:!0,maxResults:1e3,orderBy:"startTime"}).then(function(t){return t.result.items},function(t){console.error(t)});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n)}))}},{key:"deleteGoogleCalenderEvent",value:function(t,e){gapi.client.load("calendar","v3",function(){gapi.client.calendar.events.delete({calendarId:"primary",eventId:t,sendNotifications:!0,sendUpdates:"all"}).execute(function(t){var o,n;t.error||!1===t?("deleted"===(null===(n=null===(o=null==t?void 0:t.error)||void 0===o?void 0:o.errors)||void 0===n?void 0:n.reason)&&console.warn("Event has already been deleted"),e(!1)):e(!0)})})}},{key:"getAuthUri",value:function(){localStorage.setItem("GoogleLoginState","true");var t=window.location.href,e=t.indexOf("authentication");return e>-1&&(t.substring(e),t=t.substring(0,e)),"https://accounts.google.com/o/oauth2/v2/auth?client_id="+encodeURIComponent(p)+"&redirect_uri="+encodeURIComponent(t)+"&response_type="+encodeURIComponent("token id_token")+"&scope="+encodeURIComponent("profile email openid https://www.googleapis.com/auth/calendar")+"&openid.realm&include_granted_scopes="+encodeURIComponent("true")+"&nonce="+this.utility.create_UUID()}},{key:"getHeaders",value:function(){return this.headers=new a.d({Authorization:"Bearer "+localStorage.getItem("MSAL_TOKEN")}),this.headers}},{key:"outlookLogin",value:function(){var t=this;return this.msalService.loginPopup({scopes:["Calendars.Read Calendars.ReadWrite Directory.Read.All Directory.ReadWrite.All User.Read User.Read.All User.ReadWrite User.ReadWrite.All profile openid email"],prompt:"select_account"}).subscribe(function(e){console.log("Outlook Login Successful :",e);var o=JSON.parse(sessionStorage.getItem("licenseToken")||"{}").value;o?t.http.post("https://www.monetlive.com/many/api/register-invited-user",{token:e.wc.id_token,licenseToken:o,context:"microsoft"}).subscribe(function(e){e.error||t.zone.run(function(){t.as.storeLocalStorage("userDetails",e.user),t.router.navigate(["profile/dashboard/"],{queryParams:{name:e.user.name},queryParamsHandling:"merge"})})}):t.loginFunc({token:e.accessToken},"auth/microsoft"),localStorage.setItem("MSAL_TOKEN",e.accessToken),t.msalService.instance.setActiveAccount(e.account)},function(t){console.error("Login Error :",t)}),!0}},{key:"outlookGetEvents",value:function(){return this.http.get("https://graph.microsoft.com/v1.0/me/events?$select=subject,attendees,start,end",{headers:this.getHeaders()})}},{key:"outlookCreateEvent",value:function(t,e,o,n,r,i){var a={subject:t,body:{contentType:"HTML",content:'<div fxLayout="row" fxLayoutAlign="start center">\n                    <div style="background: #d9f2db">\n                        <span style="font-weight: bold"><strong>You have been invited to the following event.</strong></span>\n                    </div>\n                    <h3>\n                        <span style="color: #222; font-weight: bold; font-size: 16px;">'.concat(t,'</span>\n                    </h3>\n                    <div fxLayout="column" fxLayoutAlign="center start">\n                        <i style="font-style:normal; color: #888; margin-right: 30px;">When</i>\n                        <span style="font-size: 13px; color: #222">').concat(o,'</span>\n                    </div>\n                    <div fxLayout="column" fxLayoutAlign="center start">\n                        <i style="font-style:normal; color: #888; margin-right: 11px;">Calender</i>\n                        <span style="font-size: 13px; color: #222">').concat(JSON.parse(localStorage.getItem("userDetails")||"").email,'</span>\n                    </div>\n                    <div style="display: flex; flex-direction: row">\n                        <i style="font-style:normal; font-size: 13px; color: #888; padding-top: 13px;">Who</i>\n                        <div >\n                            <ul>\n                                ').concat(r.map(function(t){return"<li>".concat(Object.values(Object.values(t)[0])[0],' <span style="color: #888">').concat(Object.values(Object.values(t)[0])[0]===JSON.parse(localStorage.getItem("userDetails")||"").email.toString()?" - Organizer":"","</span></li>")}).join(""),'\n                            </ul>\n                        </div>\n                    </div>\n                    <div fxLayout="row">\n                        ').concat(i,"\n                    </div>\n                  </div>")},start:{dateTime:o,timeZone:"Asia/Calcutta"},end:{dateTime:n,timeZone:"Asia/Calcutta"},attendees:r};return this.http.post("https://graph.microsoft.com/v1.0/me/calendar/events",a,{headers:this.getHeaders()})}},{key:"outlookDeleteEvent",value:function(t){return this.http.delete("https://graph.microsoft.com/v1.0/me/calendar/events/"+t,{headers:this.getHeaders()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.bc(c.b),l.bc(u.a),l.bc(a.b),l.bc(d.a),l.bc(f.c),l.bc(l.B),l.bc(b.a))},e.\u0275prov=l.Nb({token:e,factory:e.\u0275fac}),e}()}}])}();