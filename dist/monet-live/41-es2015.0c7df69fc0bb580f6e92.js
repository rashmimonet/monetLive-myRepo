(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{zNAp:function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardModule",function(){return _});var o=n("v0EB"),r=n("pdnW"),a=n("AytR"),i=n("yB+K"),s=n("fXoL"),c=n("tyNb"),l=n("0IaG"),d=n("tk/3"),g=n("iiAa"),u=n("XiUz"),m=n("ofXK"),p=n("Wp6s"),h=n("NFeN");function b(e,t){1&e&&(s.Xb(0,"mat-icon",9),s.Pc(1,"locked"),s.Wb())}function f(e,t){if(1&e){const e=s.Yb();s.Xb(0,"div",4),s.fc("click",function(){s.Fc(e);const n=t.$implicit,o=s.jc();return n.disabled||o.callActions(n)}),s.Xb(1,"mat-card",5),s.Nc(2,b,2,0,"mat-icon",6),s.Xb(3,"mat-icon",7),s.Pc(4),s.Wb(),s.Xb(5,"span",8),s.Pc(6),s.Wb(),s.Wb(),s.Wb()}if(2&e){const e=t.$implicit;s.Fb(2),s.qc("ngIf",e.disabled),s.Fb(2),s.Qc(e.icon),s.Fb(2),s.Qc(e.name)}}let v=(()=>{class e{constructor(e,t,n,o,r,i,s){this.as=e,this.router=t,this.dialog=n,this.route=o,this.http=r,this.tps=i,this.utility=s,this.loggedInService="",this.cards=[{name:"Schedule Class",route:"teacher/scheduler",icon:"schedule",value:"schedule",disabled:!1},{name:"Start Class",route:"teacher/call",icon:"layers",value:"start",disabled:!1},{name:"Reports",route:"report",icon:"donut_small",value:"report",disabled:!1}],this.env=a.a}ngOnInit(){this.route.queryParams.subscribe(e=>{this.params=e}),this.loggedInService=this.tps.isLoggedIn().service}callActions(e){switch(e.value){case"start":this.createCall(e);break;default:this.router.navigate([e.route],{queryParamsHandling:"merge"})}}createCall(e){const{name:t,email:n,settings:o}=JSON.parse(localStorage.getItem("userDetails")||"");this.as.postApi("createCall",{source:this.loggedInService,creator:t,creator_ID:n,settings:o}).subscribe(t=>{t&&200===t.code?(t.response.id=this.utility.create_UUID().replaceAll("-",""),this.dialogOpener||this.addEvent(t.response,e)):console.error("Call not created")})}addEvent(e,t){this.dialogOpener=this.dialog.open(r.a,{hasBackdrop:!1,width:"500px",height:"auto",backdropClass:"backdropBackground"}).afterClosed().subscribe(n=>{var o,r,i;if(this.dialogOpener=null,n){const s=[];n.emails.map((e,t)=>{s[t]={email:e.toString().trim()}}),n.form.attendees=s,"Monet Education"===n.form.link&&(n.form.description=`<b>Please join the link below</b><br/>https://dev.monetrewards.com/${a.a.serverName}/student/login?roomid=`+e.roomid+"&room="+e.room+"<br/>"+n.form.description,delete n.form.conferenceData.createRequest),null===(i=null===(r=null===(o=gapi.client)||void 0===o?void 0:o.calendar)||void 0===r?void 0:r.events)||void 0===i||i.insert({calendarId:"primary",sendNotifications:!0,sendUpdates:"all",conferenceDataVersion:1,resource:n.form}).execute(o=>{this.inviteRoom(e,Object.assign(Object.assign({},n.form),e),t,null==o?void 0:o.id)})}})}inviteRoom(e,t,n,o){t.creator=this.params.name,t.creator_ID=JSON.parse(localStorage.getItem("userDetails")||"").email,t.sourceId=o,t.source=this.loggedInService,e.name=this.params.name,this.as.postApi1("inviteRoom",t).subscribe(t=>{t.error?(console.error("error creating room"),this.dialogOpener=null):(this.router.navigate([n.route],{queryParams:e,queryParamsHandling:"merge"}),this.dialogOpener=null)})}}return e.\u0275fac=function(t){return new(t||e)(s.Rb(o.a),s.Rb(c.b),s.Rb(l.b),s.Rb(c.a),s.Rb(d.b),s.Rb(i.a),s.Rb(g.a))},e.\u0275cmp=s.Lb({type:e,selectors:[["app-dashboard"]],features:[s.Eb([o.a,i.a])],decls:4,vars:1,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","30px","fxFill",""],["src","assets/NewMonetLive.svg","height","70px",1,"logo"],["fxLayout","row wrap","fxLayoutAlign","start start",1,"home"],["fxFlex","50","padding","",3,"click",4,"ngFor","ngForOf"],["fxFlex","50","padding","",3,"click"],["fxLayout","column","fxLayoutGap","16px","fxLayoutAlign","center center",1,"card-grid"],["class","locked-module",4,"ngIf"],["xxlarge",""],[1,"name-grid"],[1,"locked-module"]],template:function(e,t){1&e&&(s.Xb(0,"div",0),s.Sb(1,"img",1),s.Xb(2,"div",2),s.Nc(3,f,7,3,"div",3),s.Wb(),s.Wb()),2&e&&(s.Fb(3),s.qc("ngForOf",t.cards))},directives:[u.f,u.e,u.g,u.h,m.m,u.b,p.a,m.n,h.a],styles:[".custom-card[_ngcontent-%COMP%]{height:100px;width:130px;font-size:16px;cursor:pointer;margin-bottom:20px}.home[_ngcontent-%COMP%]{max-width:450px;height:auto}.home[_ngcontent-%COMP%]   .card-grid[_ngcontent-%COMP%]{height:130px;position:relative;transition:all .2s linear;box-sizing:content-box}.home[_ngcontent-%COMP%]   .card-grid[_ngcontent-%COMP%]:hover{cursor:pointer;transform:translateY(-10px)}.home[_ngcontent-%COMP%]   .card-grid[_ngcontent-%COMP%]:hover   .name-grid[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .card-grid[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#1c5ba2}.home[_ngcontent-%COMP%]   .card-grid[_ngcontent-%COMP%]:focus{outline:0}.home[_ngcontent-%COMP%]   .card-grid[_ngcontent-%COMP%]   .name-grid[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .card-grid[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#777}.locked-module[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}"]}),e})();var O=n("FpXt"),x=n("dNgK"),C=n("k78V");const P=[{path:"",component:v}];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Pb({type:e}),e.\u0275inj=s.Ob({imports:[[O.a,C.a,c.d.forChild(P),p.b,h.b,d.c,x.c,l.e]]}),e})()}}]);