<!-- <div class="d-flex justify-content-center">
  <div class="spinner-border" role="status">
    <span class="sr-only" id="loading"></span>
  </div>
</div> -->

<mat-spinner [ngClass]="['customLoader']" [diameter]="50" *ngIf="loading"></mat-spinner>
<div  size="A4">
  <button mat-mini-fab fxLayoutAlign="center center" class="close-button" (click)="closeDialog($event)">
    <mat-icon style="color: #FFFFFF;" >close</mat-icon>
  </button>
  <br>
  <div id="report" class="report-page">
    <div class="heading-row">
      <div style="width: calc(50%); height: 60px;padding-top: 15px;">
        <h2 style="font-family: 'CircularStd-book';  font-size: 20px; margin-left: 17px;">Hello,<span
          style="font-family: 'CircularStd-book'; font-size: 18px; padding-left: 8px;">{{studentName}}</span></h2>
      </div>
      <div style="width: calc(50%); height: 60px; display: flex; justify-content: flex-end;margin-right: 17px;">
        <img src="../../../../../assets/MonetLiveWhite.png" style="height: 50px;">
      </div>
    </div>
    <div class="heading-row">
      <div style="width: calc(50% - 16px); height: 60px;">
        <h2 style="font-family: 'CircularStd-book'; margin-left: 17px; font-size: 14px">
          Date: <span style="font-family: 'CircularStd-book';">{{callDate | date: 'longDate'}} </span></h2>
      </div>
    </div>
    <div class="heading-row">
      <div style="width: calc(50% - 16px); height: 60px;">
        <h2 style="font-family: 'CircularStd-book'; margin-left: 17px; font-size: 16px;">Topic:<span
          style="  padding-left: 8px; font-family: 'CircularStd-book';">{{summary | titlecase}} </span></h2>
      </div>
      <div style="width: calc(50% ); height: 60px;">
        <h2 style="font-family: 'CircularStd-book'; padding-left: 115px; font-size: 16px;">Session Duration:<span
          id="sessionDuration" style="padding-left: 8px; font-family: 'CircularStd-book' ;">  </span></h2>
      </div>
    </div>
    <div class="heading-row">
      <div style="width: calc(50%);  display: flex; justify-content: flex-start;">
        <div style="background-color: #122323; width: 70%;height: 65px; border-radius: 10px; padding: 20px; display: flex; margin-left: 17px;">
          <div
            style="position: relative; width: 100px; height: 100px; display: flex; align-items: center; justify-content: flex-start;color: #BFC3C3;top: -28px;">
            <h2 style="font-family: 'CircularStd-mideum'; line-height: 23px; font-size: 16px;">Engagement Score</h2>
          </div>
          <span style="visibility: hidden;">...............</span>
          <div
            style="position: relative; width: 100px; height: 100px; display: flex; align-items: center; justify-content: center;">
            <div style="display: flex; align-items: center; justify-content: center; position: relative;">
              <div
                style="  font-family: 'CircularStd-mideum'; position: absolute;color: #BFC3C3;top: -50px; font-size: 20px;; left: -20px;">
                {{studentReportData | number: '1.0-0'}}%</div>
            </div>
          </div>
        </div>
      </div>
      <div style="width: calc(50%);  display: flex; justify-content: flex-end;">
        <div style="background-color: #122323; width: 70%;height: 65px; border-radius: 10px; padding: 20px; display: flex; margin-right: 17px;">
          <div
            style="position: relative; width: 100px; height: 100px; display: flex; align-items: center; justify-content: flex-start;color: #BFC3C3;top: -28px;">
            <h2 style="font-family: 'CircularStd-mideum';line-height: 23px; font-size: 16px;">Attendance</h2>
          </div>
          <span style="visibility: hidden;">...............</span>
          <div
            style="position: relative; width: 100px; height: 100px; display: flex; align-items: center; justify-content: center;">
            <div style="display: flex; align-items: center; justify-content: center; position: relative;">
              <div
                style="  font-family: 'CircularStd-mideum'; position: absolute;color: #BFC3C3;top: -50px; font-size: 20px; left: -27px;">
                {{studentAttendance | number: '1.0-0'}}%</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <br>
    <div class="heading-row headingMoz">
      <div style="width: calc(50%);  display: flex; justify-content: flex-start;">
        <div style="background-color: #122323; width: 70%;height: 65px; border-radius: 10px; padding: 20px; display: flex; margin-left: 17px;">
          <div
            style="position: relative; width: 100px; height: 100px; display: flex; align-items: center; justify-content: flex-start;color: #BFC3C3;top: -28px;">
            <h2 style="font-family: 'CircularStd-mideum';line-height: 23px; font-size: 16px;">Mood Score</h2>
          </div>
          <span style="visibility: hidden;">...............</span>
          <div
            style="position: relative; width: 100px; height: 100px; display: flex; align-items: center; justify-content: center;">
            <div style="display: flex; align-items: center; justify-content: center; position: relative;">
              <div
                style="  font-family: 'CircularStd-mideum'; position: absolute;color: #BFC3C3;top: -50px; font-size: 20px; left: -15px;">
                {{moodData | number: '1.0-0'}}%</div>
            </div>
          </div>
        </div>
      </div>
      <div style="width: calc(50%);  display: flex; justify-content: flex-end;">
        <div style="background-color: #122323; width: 70%;height: 65px; border-radius: 10px; padding: 20px; display: flex; margin-right: 17px;">
          <div
            style="position: relative; width: 100px; height: 100px; display: flex; align-items: center; justify-content: flex-start;color: #BFC3C3;top: -28px;">
            <h2 style="font-family: 'CircularStd-mideum';line-height: 23px; font-size: 16px;">Speaking Score</h2>
          </div>
          <span style="visibility: hidden;">...............</span>
          <div
            style="position: relative; width: 100px; height: 100px; display: flex; align-items: center; justify-content: center;">
            <div style="display: flex; align-items: center; justify-content: center; position: relative;">
              <div
                style=" font-family: 'CircularStd-mideum'; position: absolute;color: #BFC3C3;top: -50px; font-size: 20px; left: -15px;">
                {{speakingScore | number: '1.0-0'}}%</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <br>
    <div class="heading-row" style="width: calc(50% - 16px); height: 60px;">
      <h2 style="font-family: 'CircularStd-mideum'; font-size: 14px; margin-left: 17px; margin-top:6%;">Overall Class Performance Timeline</h2>
    </div>
    <div id="chartdiv" style="width: 95%; height: 450px; background-color: #242424; margin: 0 17px;">
      <app-overall-line-chart  [overallData]="this.status ? sessionDataMinutes : sessionDataSeconds" fxFlex >
      </app-overall-line-chart>

    </div>
    <br>
    <div class="heading-row headingMoz">
      <div style="width: calc(50% - 16px); height: 60px;">
        <h2 style="font-family: 'CircularStd-book'; font-size: 16px; margin-left: 17px; ">Top Engaging Participants</h2>
        <div style="display: flex;background-color: #242424;border-radius: 10px;margin-right: 20px;width: 95%; margin-left: 17px; font-family: 'CircularStd-book'; font-size: 12px;">
          <div style="padding: 15px;width: 50%;">
            <h2 style="font-family: 'CircularStd-mideum'; font-size: 16px;">Participants</h2>
            <h3 *ngFor="let data of topStudent;" ><span  style="font-family: 'CircularStd-mideum'; font-size: 16px; margin-bottom: 0 !important;white-space: nowrap;
              width:50%;
              overflow: hidden;
              text-overflow: ellipsis;">{{data.name}}</span></h3>
          </div>
          <span style="visibility: hidden;">...............</span>
          <div style="padding: 15px;">
            <h2 style="font-family: 'CircularStd-mideum'; font-size: 16px;">Score</h2>
            <h3 *ngFor="let data of topStudent;" ><span  style="font-family: 'CircularStd-mideum'; font-size: 16px; margin-bottom: 0 !important;">{{data.averageEngagement | number:'1.2-2' }}</span></h3>
          </div>
        </div>
      </div>
      <div style="width: calc(50% - 16px); height: 60px; float: right;">
        <h2 style="font-family: 'CircularStd-book'; font-size: 16px; padding-left: 35px; margin-right: 17px;">Least Engaging
          Participants</h2>
        <div style="display: flex;background-color: #242424;border-radius: 10px;margin-left: 30px;width: 95%; ">
          <div style="padding: 15px;width: 50%;">
            <h2 style="font-family: 'CircularStd-mideum'; font-size: 16px;">Participants</h2>
            <h3 *ngFor="let data of bottomStudent;"><span  style="font-family: 'CircularStd-mideum'; font-size: 16px; margin-bottom: 0 !important;white-space: nowrap;
              width:50%;
              overflow: hidden;
              text-overflow: ellipsis;">{{data.name}}</span></h3>
          </div>
          <span style="visibility: hidden;">...............</span>
          <div style="padding: 15px;">
            <h2 style="font-family: 'CircularStd-mideum'; font-size: 16px;">Score</h2>
            <!-- <h3 *ngFor="let data of bottomStudent;" ><span  style="font-family: 'CircularStd-mideum'; font-size: 16px; margin-bottom: 0 !important;">{{data.averageEngagement === null ? '-' : data.averageEngagement | number:'1.2-2'}}</span></h3> -->
            <h3 *ngFor="let data of bottomStudent;" ><span  style="font-family: 'CircularStd-mideum'; font-size: 16px; margin-bottom: 0 !important;">{{data.averageEngagement | number:'1.2-2'}}</span></h3>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="btn" style="display: flex; justify-content: center;">
  <button *ngIf="isButtonDisabled" (click)="convertToPDF();" mat-stroked-button
          style="background: linear-gradient(to right, #77246C, #1E5AA1); color: white">Download PDF</button>
</div>
